"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98471],{459092:function(e,s,t){var a=t(552322),i=t(742951),r=t.n(i),l=t(412524),o=t.n(l),n=t(790007),d=t(355125),c=t(788028),p=t(558001),u=t(583081),m=t(293786),h=t(604980);s.Z=e=>{let{theme:s,productVariables:t}=(0,n.Fj)(),{authManager:i}=(0,d.Pc)(),l=s.colors.outlineActive,x="item"in e,g=x?2:3,f={styles:(0,a.jsx)(r(),{id:"4e698e398bf96b72",dynamic:[s.colors.outlineSubduedDefault,t.borderRadius.regular,l],children:`.card-image.__jsx-style-dynamic-selector{border:1px solid ${s.colors.outlineSubduedDefault};-webkit-border-radius:${t.borderRadius.regular};-moz-border-radius:${t.borderRadius.regular};border-radius:${t.borderRadius.regular};height:10.3rem;width:16rem;aspect-ratio:2/3;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.card-fav-btn.__jsx-style-dynamic-selector{position:relative}.card-fav-btn.__jsx-style-dynamic-selector:focus{outline-color:${l}}`}),className:r().dynamic([["4e698e398bf96b72",[s.colors.outlineSubduedDefault,t.borderRadius.regular,l]]])};return(0,a.jsxs)("article",{className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]]),children:[(0,a.jsx)("div",{className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]])+" "+(o()("card-container",{selected:e.isSelected})||""),children:(0,a.jsxs)("div",{className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]])+" card-contents",children:[(0,a.jsx)(u.Ee,{className:o()("card-image",f.className),src:e.thumbnailUrl,alt:""}),(0,a.jsxs)("div",{className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]])+" card-end-contents",children:[(0,a.jsx)("h3",{className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]]),children:(0,a.jsx)("button",{onClick:s=>x?e.onClick?.(e.item):e.onClick?.(s),className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]])+" card-title",children:e.title})}),(0,a.jsx)("p",{className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]])+" card-description",children:e.description}),x&&(0,a.jsx)("div",{className:r().dynamic([["75bf430a0df2e2e8",[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary]]])+" card-bottom",children:(0,a.jsx)(h.Z,{isFavorite:e.item.isFavorite,id:e.item.id,owner:e.item.owner,type:m.o.Theme,authManager:i,className:o()("card-fav-btn",f.className)})})]})]})}),f.styles,(0,a.jsx)(r(),{id:"75bf430a0df2e2e8",dynamic:[s.colors.outlineSubduedDefault,c.default.spacing.xxs,t.borderRadius.regular,s.colors.outlineSubduedHover,s.colors.outlineActive,s.colors.outlineSubduedDefault,t.borderRadius.regular,c.default.spacing.xxs,p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}}),s.colors.labelPrimary,l,p.ZP.typography.caption({lineClamp:{numLines:g}}),c.default.spacing.xxxxs,s.colors.labelSecondary],children:`.card-container.__jsx-style-dynamic-selector{position:relative;--border-color:${s.colors.outlineSubduedDefault};--border-thickness:1px;padding:${c.default.spacing.xxs};background-color:transparent;border:var(--border-thickness)solid var(--border-color);-webkit-border-radius:${t.borderRadius.regular};-moz-border-radius:${t.borderRadius.regular};border-radius:${t.borderRadius.regular}}.card-container.__jsx-style-dynamic-selector:hover{--border-color:${s.colors.outlineSubduedHover}}.card-container.selected.__jsx-style-dynamic-selector{--border-thickness:2px;--border-color:${s.colors.outlineActive}}.card-image-container.__jsx-style-dynamic-selector{border:1px solid ${s.colors.outlineSubduedDefault};-webkit-border-radius:${t.borderRadius.regular};-moz-border-radius:${t.borderRadius.regular};border-radius:${t.borderRadius.regular};height:10.3rem;width:16rem;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.card-contents.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.card-end-contents.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-margin-start:${c.default.spacing.xxs};-moz-margin-start:${c.default.spacing.xxs};margin-inline-start:${c.default.spacing.xxs};text-align:start;overflow-x:auto}.card-title.__jsx-style-dynamic-selector{${p.ZP.typography.subtitleLarge({lineClamp:{numLines:1}})}
          max-width: 100%;color:${s.colors.labelPrimary}}.card-title.__jsx-style-dynamic-selector::after{content:"";position:absolute;left:0;top:0;right:0;bottom:0}.card-title.__jsx-style-dynamic-selector:focus{outline-color:${l}}.card-description.__jsx-style-dynamic-selector{${p.ZP.typography.caption({lineClamp:{numLines:g}})}
          margin: ${c.default.spacing.xxxxs} 0;color:${s.colors.labelSecondary}}.card-bottom.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:end;-webkit-margin-end:1px;-moz-margin-end:1px;margin-inline-end:1px}`})]})}},348281:function(e,s,t){var a=t(552322),i=t(202784),r=t(249177);let l=(0,i.memo)(e=>{let{time:s,shouldUseShortMonth:t=!1,className:i}=e,l="number"==typeof s?new Date(s):s;return(0,a.jsx)("time",{dateTime:l.toISOString(),className:i,children:(0,a.jsx)(r.Ji,{value:l,year:"numeric",month:t?"short":"long",day:"numeric"})})});l.displayName="DateTime",s.Z=l},620873:function(e,s,t){var a=t(552322),i=t(742951),r=t.n(i),l=t(202784),o=t(342670),n=t(685371),d=t(788028),c=t(558001),p=t(326860),u=t(790007);class m extends l.PureComponent{render(){let{emptyDetails:e}=this.props,{children:s,...t}=e.btn??{};return(0,a.jsxs)(n.Z,{size:8,pre:2,sizeSm:4,preSm:1,children:[(0,a.jsxs)("div",{className:r().dynamic([["8dc15c79d68f9111",[d.default.spacing.sm,d.default.spacing.xs,d.default.spacing.xxxxxl,e.icon?.height||d.default.spacing.xxl,d.default.spacing.xs,c.ZP.typography.headingSmall(),this.props.websiteDesign.theme.colors.labelPrimary,d.default.spacing.xs,c.ZP.typography.bodySmall(),this.props.websiteDesign.theme.colors.labelSecondary,d.default.spacing.sm]]])+" no-items-message-container",children:[e.icon&&(0,a.jsx)("img",{src:e.icon.url,alt:"",loading:"lazy",className:r().dynamic([["8dc15c79d68f9111",[d.default.spacing.sm,d.default.spacing.xs,d.default.spacing.xxxxxl,e.icon?.height||d.default.spacing.xxl,d.default.spacing.xs,c.ZP.typography.headingSmall(),this.props.websiteDesign.theme.colors.labelPrimary,d.default.spacing.xs,c.ZP.typography.bodySmall(),this.props.websiteDesign.theme.colors.labelSecondary,d.default.spacing.sm]]])}),e.titleId&&(0,a.jsx)("h2",{className:r().dynamic([["8dc15c79d68f9111",[d.default.spacing.sm,d.default.spacing.xs,d.default.spacing.xxxxxl,e.icon?.height||d.default.spacing.xxl,d.default.spacing.xs,c.ZP.typography.headingSmall(),this.props.websiteDesign.theme.colors.labelPrimary,d.default.spacing.xs,c.ZP.typography.bodySmall(),this.props.websiteDesign.theme.colors.labelSecondary,d.default.spacing.sm]]])+" msg-title",children:(0,a.jsx)(o.Z,{id:e.titleId})}),e.descriptionId&&(0,a.jsx)("p",{className:r().dynamic([["8dc15c79d68f9111",[d.default.spacing.sm,d.default.spacing.xs,d.default.spacing.xxxxxl,e.icon?.height||d.default.spacing.xxl,d.default.spacing.xs,c.ZP.typography.headingSmall(),this.props.websiteDesign.theme.colors.labelPrimary,d.default.spacing.xs,c.ZP.typography.bodySmall(),this.props.websiteDesign.theme.colors.labelSecondary,d.default.spacing.sm]]])+" msg-details",children:(0,a.jsx)(o.Z,{id:e.descriptionId})}),e.btn&&(0,a.jsx)(p.ZP,{...t,children:"string"==typeof s?(0,a.jsx)(o.Z,{id:s}):s}),e.modal]}),(0,a.jsx)(r(),{id:"8dc15c79d68f9111",dynamic:[d.default.spacing.sm,d.default.spacing.xs,d.default.spacing.xxxxxl,e.icon?.height||d.default.spacing.xxl,d.default.spacing.xs,c.ZP.typography.headingSmall(),this.props.websiteDesign.theme.colors.labelPrimary,d.default.spacing.xs,c.ZP.typography.bodySmall(),this.props.websiteDesign.theme.colors.labelSecondary,d.default.spacing.sm],children:`.no-items-message-container.__jsx-style-dynamic-selector{text-align:center;margin:${d.default.spacing.sm} 0 ${d.default.spacing.xs};min-height:${d.default.spacing.xxxxxl}}.no-items-message-container.__jsx-style-dynamic-selector img.__jsx-style-dynamic-selector{height:${e.icon?.height||d.default.spacing.xxl};margin-bottom:${d.default.spacing.xs}}.msg-title.__jsx-style-dynamic-selector{${c.ZP.typography.headingSmall()}
            color: ${this.props.websiteDesign.theme.colors.labelPrimary};margin-bottom:${d.default.spacing.xs}}.msg-details.__jsx-style-dynamic-selector{${c.ZP.typography.bodySmall()}
            color: ${this.props.websiteDesign.theme.colors.labelSecondary};margin-bottom:${d.default.spacing.sm}}`})]})}}s.Z=(0,u.EL)(m)},935601:function(e,s,t){t.d(s,{Z:function(){return e0}});var a=t(552322),i=t(742951),r=t.n(i),l=t(202784),o=t(289274),n=t(412524),d=t.n(n),c=t(348206),p=t(788028),u=t(355125),m=t(136630),h=t(815922),x=t(999354);let g={id:"default",labelId:"builder.itemBrowser.dateModified",sortField:"modified",sortOrder:"desc"},f={id:"public",labelId:"builder.itemBrowser.relevance",sortField:void 0,sortOrder:void 0},b=[{id:"la-relevance",sortField:"",sortOrder:"desc",labelId:"common.itemBrowser.sort.mostRelevant"},{id:"la-modified",sortField:"modified",sortOrder:"desc",labelId:"common.itemBrowser.sort.mostRecent"},{id:"la-popularity",sortField:"numviews",sortOrder:"desc",labelId:"common.itemBrowser.sort.mostPopular"},{id:"la-title",sortField:"title",sortOrder:"asc",labelId:"builder.common.title"}],y={query:"",start:1,num:24,results:[],nextStart:-1,total:0};var S=t(614531),j=t(256538),w=t(537905);let v={styles:(0,a.jsx)(r(),{id:"fd46b1653bf4c633",children:".search-box-override.jsx-fd46b1653bf4c633{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1}"}),className:"jsx-fd46b1653bf4c633"},k=e=>{let s=(0,w.Z)(),t=s("builder.immersive.dataSelector.mapTour.selectData.arcgisData.search"),i=s("common.search");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{label:t,placeholder:i,clearBtnLabel:s("builder.common.clearSearch"),...e.searchBoxProps,id:`${e.id}-search`,onChange:e.onSearch,onClear:e.onSearchCleared,className:d()("search-box-override",v.className)}),v.styles]})};var P=t(764075),Z=t(326860),_=t(103010),$=t(732563),C=t(558001),I=t(826447);let D={styles:(0,a.jsx)(r(),{id:"52948153182db0ba",children:`.sort-dropdown-target.jsx-52948153182db0ba{padding:0;-webkit-padding-start:${p.default.spacing.xxs};-moz-padding-start:${p.default.spacing.xxs};padding-inline-start:${p.default.spacing.xxs};-webkit-margin-start:${p.default.spacing.xxxs};-moz-margin-start:${p.default.spacing.xxxs};margin-inline-start:${p.default.spacing.xxxs};width:100%;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;white-space:nowrap}`}),className:"jsx-52948153182db0ba"},L={styles:(0,a.jsx)(r(),{id:"6401664eaa2b0cf1",children:`.chevron-down.jsx-6401664eaa2b0cf1{padding:${p.default.spacing.xxxs}}`}),className:"jsx-6401664eaa2b0cf1"},N=e=>{let s=(0,w.Z)();return(0,a.jsxs)(Z.ZP,{type:"secondary",className:d()("sort-dropdown-target",D.className),"aria-expanded":e.isPopperOpen,"aria-haspopup":!0,iconEnd:(0,a.jsx)(_.Z,{path:P.x,size:16,className:d()("chevron-down",L.className)}),children:[(0,a.jsx)("div",{className:r().dynamic([["bc6109a6947e502f",[p.default.spacing.xxxxl,p.default.responsiveBreakpoints.large,p.default.spacing.xl,p.default.responsiveBreakpoints.extraLarge,p.default.spacing.xxxl]]])+" sort-name",children:s(e.selectedSortFilter.labelId)}),(0,a.jsx)(r(),{id:"bc6109a6947e502f",dynamic:[p.default.spacing.xxxxl,p.default.responsiveBreakpoints.large,p.default.spacing.xl,p.default.responsiveBreakpoints.extraLarge,p.default.spacing.xxxl],children:`.sort-name.__jsx-style-dynamic-selector{max-width:${p.default.spacing.xxxxl};overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}@media(min-width:${p.default.responsiveBreakpoints.large}){.sort-name.__jsx-style-dynamic-selector{max-width:${p.default.spacing.xl}}}@media(min-width:${p.default.responsiveBreakpoints.extraLarge}){.sort-name.__jsx-style-dynamic-selector{max-width:${p.default.spacing.xxxl}}}`}),D.styles,L.styles]})},F=e=>{let s=(0,w.Z)();return(0,a.jsx)($.Z,{children:b.map(t=>(0,a.jsx)($.Z.Item,{onClick:()=>e.onSortFilterChanged(t),isSelected:t.id===e.selectedSortFilter.id,children:s(t.labelId)},t.id))})},T=e=>{let s=(0,w.Z)();return(0,a.jsxs)("label",{className:r().dynamic([["7e9a27dc55b53140",[C.ZP.typography.form.label()]]])+" sort-label",children:[s("builder.common.sort"),(0,a.jsx)(I.Z,{placement:"bottom-end",renderTarget:s=>(0,a.jsx)(N,{isPopperOpen:s,selectedSortFilter:e.selectedSortFilter}),popper:(0,a.jsx)(F,{selectedSortFilter:e.selectedSortFilter,onSortFilterChanged:e.onSortFilterChanged})}),(0,a.jsx)(r(),{id:"7e9a27dc55b53140",dynamic:[C.ZP.typography.form.label()],children:`.sort-label.__jsx-style-dynamic-selector{${C.ZP.typography.form.label()}
          display: flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}`})]})};var R=t(962593);let z=e=>{let s=(0,w.Z)(),{subfilter:t,selectedFilter:i,subfilters:r}=e,l=3===r.length?"sm":2===r.length?"md":void 0,o=void 0!==i,n=t.filterOptions,d=o?n?.[i]:void 0,c=d?.label,p=d?.labelId||t.labelId;return(0,a.jsx)(R.Z,{hasSelection:o,label:c||s(p),icon:t.icon,widthRestriction:l,onClearClick:()=>{o&&n?.[i]&&e.onSubfilterClicked({parentId:t.id,filterOption:n[i],shouldClearFilter:!0})},"aria-expanded":e.isPopperOpen})},M=e=>{let s=(0,w.Z)();return(0,a.jsx)($.Z,{maxHeight:p.default.spacing.xxxxxl,children:e.subfilter.filterOptions?.map(t=>{let{id:i,labelId:r,label:l}=t;return a.jsx($.Z.Item,{onClick:()=>e.onSubfilterClicked({parentId:e.subfilter.id,filterOption:t,shouldClearFilter:!1}),isSelected:i===e.selectedFilter,children:l||s(r)},i)})})},B=e=>{let{subfilters:s,onSubfilterClicked:t}=e;return s.map(i=>{let l=i.id,o={subfilter:i,selectedFilter:e.subfilterSelections[l],onSubfilterClicked:t};return(0,a.jsxs)("div",{className:r().dynamic([["1aa6e7a97a6c0b27",[p.default.spacing.xxs]]])+" popper-wrapper",children:[(0,a.jsx)(I.Z,{placement:"bottom-start",offset:[0,0],renderTarget:e=>(0,a.jsx)(z,{...o,isPopperOpen:e,subfilters:s}),popper:(0,a.jsx)(M,{...o}),usePositionFixed:!0,maxWidth:"none"}),(0,a.jsx)(r(),{id:"1aa6e7a97a6c0b27",dynamic:[p.default.spacing.xxs],children:`.popper-wrapper.__jsx-style-dynamic-selector{-webkit-margin-end:${p.default.spacing.xxs};-moz-margin-end:${p.default.spacing.xxs};margin-inline-end:${p.default.spacing.xxs}}`})]},l)})};var O=t(176452);let A={styles:(0,a.jsx)(r(),{id:"a117c9b714f836e2",children:".tab-bar-override.jsx-a117c9b714f836e2{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}"}),className:"jsx-a117c9b714f836e2"},G=e=>{let{storyMapUserPrivileges:s}=(0,u.Pc)(),t=(0,w.Z)(),i=s.hasOrganization,r=e.tabFilters.filter(e=>!!i||"myOrganization"!==e.searchModifier);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(O.Z,{className:d()("tab-bar-override",A.className),children:r.map(s=>{let i=s.id;return(0,a.jsx)(O.Z.Tab,{"data-id":i,testId:s.testId,isSelected:i===e.selectedTabId,onClick:()=>e.onTabFilterClicked(s),children:s.label||t(s.labelId)},i)})}),A.styles]})},H=e=>{let s=e.tabFilters.find(s=>s.id===e.selectedTabId),t=s?.searchModifier==="myGroups",i=s?.searchModifier==="myOrganization",l=!!s?.isLivingAtlas,o=[];e.sharedSubfilters?.forEach(e=>{o.push(e)}),s?.subfilters?.forEach(e=>{o.push(e)});let n=t||i&&!s?.shouldHideGroupSelectUI,c=o.length>0,u=n||l;return(0,a.jsxs)("div",{className:r().dynamic([["9db32d7c6a17e38",[p.default.spacing.xxs,e.heading?p.default.spacing.sm:"0rem",c?"'fs fs fs fs fs fs'":"",u?"'fe fe fe fe fe fe'":"",p.default.spacing.sm,p.default.spacing.sm,p.default.responsiveBreakpoints.medium,p.default.spacing.xxs,u?"fe":"search",p.default.responsiveBreakpoints.large,p.default.spacing.xs,p.default.color.beauBlue,p.default.spacing.xxs]]])+" "+(d()("tab-and-search-grid",{"no-filters":!c&&!u,"has-filters-end":u,"smaller-end-filter":c&&l})||""),children:[(0,a.jsx)("div",{className:r().dynamic([["9db32d7c6a17e38",[p.default.spacing.xxs,e.heading?p.default.spacing.sm:"0rem",c?"'fs fs fs fs fs fs'":"",u?"'fe fe fe fe fe fe'":"",p.default.spacing.sm,p.default.spacing.sm,p.default.responsiveBreakpoints.medium,p.default.spacing.xxs,u?"fe":"search",p.default.responsiveBreakpoints.large,p.default.spacing.xs,p.default.color.beauBlue,p.default.spacing.xxs]]])+" tabs-container",children:(0,a.jsx)(G,{tabFilters:e.tabFilters,selectedTabId:e.selectedTabId,onTabFilterClicked:e.onTabFilterClicked})}),(0,a.jsx)("div",{className:r().dynamic([["9db32d7c6a17e38",[p.default.spacing.xxs,e.heading?p.default.spacing.sm:"0rem",c?"'fs fs fs fs fs fs'":"",u?"'fe fe fe fe fe fe'":"",p.default.spacing.sm,p.default.spacing.sm,p.default.responsiveBreakpoints.medium,p.default.spacing.xxs,u?"fe":"search",p.default.responsiveBreakpoints.large,p.default.spacing.xs,p.default.color.beauBlue,p.default.spacing.xxs]]])+" search-box-container",children:(0,a.jsx)(k,{id:e.id,searchBoxProps:e.searchBoxProps,onSearch:e.onSearch,onSearchCleared:e.onSearchCleared})}),c&&(0,a.jsx)("div",{className:r().dynamic([["9db32d7c6a17e38",[p.default.spacing.xxs,e.heading?p.default.spacing.sm:"0rem",c?"'fs fs fs fs fs fs'":"",u?"'fe fe fe fe fe fe'":"",p.default.spacing.sm,p.default.spacing.sm,p.default.responsiveBreakpoints.medium,p.default.spacing.xxs,u?"fe":"search",p.default.responsiveBreakpoints.large,p.default.spacing.xs,p.default.color.beauBlue,p.default.spacing.xxs]]])+" filters-container-start",children:(0,a.jsx)(B,{subfilters:o,subfilterSelections:e.subfilterSelections,onSubfilterClicked:e.onSubfilterClicked})}),u&&(0,a.jsxs)("div",{className:r().dynamic([["9db32d7c6a17e38",[p.default.spacing.xxs,e.heading?p.default.spacing.sm:"0rem",c?"'fs fs fs fs fs fs'":"",u?"'fe fe fe fe fe fe'":"",p.default.spacing.sm,p.default.spacing.sm,p.default.responsiveBreakpoints.medium,p.default.spacing.xxs,u?"fe":"search",p.default.responsiveBreakpoints.large,p.default.spacing.xs,p.default.color.beauBlue,p.default.spacing.xxs]]])+" filters-container-end",children:[n&&(0,a.jsx)(S.F,{mode:i?"allGroups":"ownGroups",selectedGroup:e.selectedGroup,onGroupChanged:e.onGroupChanged}),l&&(0,a.jsx)(T,{selectedSortFilter:e.selectedSortFilter,onSortFilterChanged:e.onSortFilterChanged})]}),(0,a.jsx)(r(),{id:"9db32d7c6a17e38",dynamic:[p.default.spacing.xxs,e.heading?p.default.spacing.sm:"0rem",c?"'fs fs fs fs fs fs'":"",u?"'fe fe fe fe fe fe'":"",p.default.spacing.sm,p.default.spacing.sm,p.default.responsiveBreakpoints.medium,p.default.spacing.xxs,u?"fe":"search",p.default.responsiveBreakpoints.large,p.default.spacing.xs,p.default.color.beauBlue,p.default.spacing.xxs],children:`.tab-and-search-grid.__jsx-style-dynamic-selector{display:grid;gap:${p.default.spacing.xxs} 0;width:100%;margin-top:${e.heading?p.default.spacing.sm:"0rem"};grid-template-areas:"tabs   tabs   tabs   tabs   tabs   tabs""search search search search search search"${c?"'fs fs fs fs fs fs'":""} ${u?"'fe fe fe fe fe fe'":""}}.tabs-container.__jsx-style-dynamic-selector{grid-area:tabs;overflow-x:auto}.search-box-container.__jsx-style-dynamic-selector{grid-area:search;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:stretch;-webkit-justify-content:stretch;-moz-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.filters-container-start.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;-moz-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;grid-area:fs;height:${p.default.spacing.sm}}.filters-container-end.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;grid-area:fe;height:${p.default.spacing.sm}}@media(min-width:${p.default.responsiveBreakpoints.medium}){.tab-and-search-grid.__jsx-style-dynamic-selector{gap:${p.default.spacing.xxs};grid-template-columns:repeat(5,1fr)auto;grid-template-areas:"tabs   tabs   tabs   tabs   tabs   tabs""search search search search search ${u?"fe":"search"}"}}@media(min-width:${p.default.responsiveBreakpoints.large}){.search-box-container.__jsx-style-dynamic-selector{-webkit-padding-start:${p.default.spacing.xs};-moz-padding-start:${p.default.spacing.xs};padding-inline-start:${p.default.spacing.xs};border-bottom:1px solid ${p.default.color.beauBlue}}.tab-and-search-grid.__jsx-style-dynamic-selector{gap:${p.default.spacing.xxs} 0;grid-template-columns:repeat(12,1fr);grid-template-areas:"tabs tabs tabs tabs tabs tabs tabs tabs tabs search search search""fs fs fs fs fs fs fs fs fs fs fs fs"}.tab-and-search-grid.has-filters-end.__jsx-style-dynamic-selector{grid-template-areas:"tabs tabs tabs tabs tabs tabs tabs tabs tabs search search search""fs fs fs fs fs fs fe fe fe fe fe fe"}.tab-and-search-grid.smaller-end-filter.__jsx-style-dynamic-selector{grid-template-areas:"tabs tabs tabs tabs tabs tabs tabs tabs tabs search search search""fs fs fs fs fs fs fs fs fe fe fe fe"}.tab-and-search-grid.no-filters.__jsx-style-dynamic-selector{grid-template-areas:"tabs tabs tabs tabs tabs tabs tabs tabs tabs search search search"}}`})]})};var E=t(342670),Q=t(830733),U=t.n(Q),W=t(778210),q=t(685371),K=t(720598),J=t(819556),V=t(186705),X=()=>{let e=(0,w.Z)();return(0,a.jsx)(V.Z,{title:e("builder.itemBrowser.myLayers.callout.title"),marginTop:p.default.spacing.xxl,marginBottom:p.default.spacing.xxxxl,children:(0,a.jsx)("p",{children:e("builder.itemBrowser.myLayers.callout.description",{"product-doc":e=>(0,a.jsx)("a",{href:"https://links.esri.com/express-map-feature-layers",target:"_blank",rel:"noopener noreferrer",children:e})})})})},Y=t(590004);class ee extends l.PureComponent{render(){return(0,a.jsxs)(V.Z,{hasIcon:!0,title:(0,a.jsx)(E.Z,{id:"builder.itemBrowser.livingAtlas.callout.title"}),marginTop:p.default.spacing.xxl,marginBottom:p.default.spacing.xxxxl,children:[(0,a.jsx)(E.Z,{id:"builder.itemBrowser.livingAtlas.callout.description",tagName:"p"}),(0,a.jsx)("div",{className:r().dynamic([["44d2d2b924fe175d",[C.ZP.screenReaderOnly()]]])+" callout-action-button",children:(0,a.jsxs)(Z.ZP,{type:"secondary",iconEnd:(0,a.jsx)(_.Z,{path:Y.D,size:16,"aria-hidden":!0}),link:{href:"https://livingatlas.arcgis.com/en/browse/",openInNewPage:!0},onClick:this.onBrowseLAClicked,children:[(0,a.jsx)(E.Z,{id:"builder.itemBrowser.livingAtlas.callout.actionButtonTitle"}),(0,a.jsx)("span",{className:r().dynamic([["44d2d2b924fe175d",[C.ZP.screenReaderOnly()]]])+" sr-only",children:(0,a.jsx)(E.Z,{id:"common.screenReader.opensInNewTab"})})]})}),(0,a.jsx)(r(),{id:"44d2d2b924fe175d",dynamic:[C.ZP.screenReaderOnly()],children:`.sr-only.__jsx-style-dynamic-selector{${C.ZP.screenReaderOnly()}
          }`})]})}constructor(...e){super(...e),this.onBrowseLAClicked=()=>{x.Z.trackEvent(x.Z.Category.Builder,x.Z.Action.Builder_MapBrowser_Callout_BrowseLivingAtlas)}}}var es=t(697811),et=t(850358),ea=t(820666),ei=t(902183),er=t(368667),el=t(457945),eo=t(612423),en=t(459092),ed=t(816211),ec=t(790007),ep=t(818933),eu=t(994692),em=t(874087),eh=t(578166);class ex extends l.PureComponent{render(){let e=d()(this.props.className,"card-body");return(0,a.jsxs)("div",{className:r().dynamic([["47600fa2a6328b43",[p.default.spacing.xs,p.default.spacing.xxxs]]])+" "+(e||""),children:[this.props.children,(0,a.jsx)(r(),{id:"47600fa2a6328b43",dynamic:[p.default.spacing.xs,p.default.spacing.xxxs],children:`.card-body.__jsx-style-dynamic-selector{padding:${p.default.spacing.xs};padding-bottom:${p.default.spacing.xxxs}}`})]})}}var eg=t(839083);class ef extends l.PureComponent{render(){let e=(0,eg.pH)({cssSelector:".card-subtitle",fontWeight:p.default.font.weight.normal}),s=d()(this.props.className,"card-subtitle")+` ${e.className}`;return(0,a.jsxs)("p",{className:r().dynamic([["2c94511f70cfd96e",[p.default.spacing.xxxxs,C.ZP.typography.labelSmall({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}}),this.props.websiteDesign.theme.colors.labelSecondary]]])+" "+(s||""),children:[this.props.children,e.styles,(0,a.jsx)(r(),{id:"2c94511f70cfd96e",dynamic:[p.default.spacing.xxxxs,C.ZP.typography.labelSmall({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}}),this.props.websiteDesign.theme.colors.labelSecondary],children:`.card-subtitle.__jsx-style-dynamic-selector{margin:0 0 ${p.default.spacing.xxxxs};${C.ZP.typography.labelSmall({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}})}
            color: ${this.props.websiteDesign.theme.colors.labelSecondary};}.card-subtitle.__jsx-style-dynamic-selector:last-child{margin:0}`})]})}}var eb=(0,ec.EL)(ef);class ey extends l.PureComponent{render(){let e=this.props.headingLevel??"h5",s={styles:(0,a.jsx)(r(),{id:"176bfe78b123b9e3",dynamic:[p.default.spacing.xxxxs,this.props.websiteDesign.theme.colors.labelPrimary,C.ZP.typography.subtitleSmall({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}})],children:`.card-title.__jsx-style-dynamic-selector{margin:0 0 ${p.default.spacing.xxxxs};color:${this.props.websiteDesign.theme.colors.labelPrimary};${C.ZP.typography.subtitleSmall({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}})}
      }.card-title.__jsx-style-dynamic-selector:last-child{margin:0}`}),className:r().dynamic([["176bfe78b123b9e3",[p.default.spacing.xxxxs,this.props.websiteDesign.theme.colors.labelPrimary,C.ZP.typography.subtitleSmall({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}})]]])};return(0,a.jsxs)(e,{className:d()(s.className,"card-title"),children:[this.props.children,s.styles]})}}var eS=(0,ec.EL)(ey);class ej extends l.PureComponent{render(){let e=d()(this.props.className,"card-text");return(0,a.jsxs)("p",{className:r().dynamic([["c8b931d46af63bf4",[p.default.spacing.xxxs,this.props.websiteDesign.theme.colors.labelSecondary,C.ZP.typography.caption({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}})]]])+" "+(e||""),children:[this.props.children,(0,a.jsx)(r(),{id:"c8b931d46af63bf4",dynamic:[p.default.spacing.xxxs,this.props.websiteDesign.theme.colors.labelSecondary,C.ZP.typography.caption({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}})],children:`.card-text.__jsx-style-dynamic-selector{margin:0 0 ${p.default.spacing.xxxs};color:${this.props.websiteDesign.theme.colors.labelSecondary};${C.ZP.typography.caption({...this.props.lineClamp&&{lineClamp:{numLines:this.props.lineClamp}}})}
          }.card-text.__jsx-style-dynamic-selector:last-child{margin:0}`})]})}}var ew=(0,ec.EL)(ej),ev=()=>(0,a.jsx)("div",{className:r().dynamic([["ce960ff3ca82357e",[p.default.spacing.md]]])+" card-footer-filler",children:(0,a.jsx)(r(),{id:"ce960ff3ca82357e",dynamic:[p.default.spacing.md],children:`.card-footer-filler.__jsx-style-dynamic-selector{height:${p.default.spacing.md}}`})}),ek=t(687615),eP=t(344159);class eZ extends l.PureComponent{render(){return(0,a.jsxs)("div",{className:r().dynamic([["4b11d5ab401b9672",[p.default.spacing.xs,p.default.spacing.xs,p.default.spacing.xxxs,p.default.spacing.md,C.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxxs,alignItems:"center",justifyContent:"start"}),C.ZP.typography.caption({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelSecondary,C.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"end"}),C.ZP.typography.bodyLarge({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelPrimary]]])+" "+(d()(this.props.className,"card-footer")||""),children:[(0,a.jsx)("div",{className:r().dynamic([["4b11d5ab401b9672",[p.default.spacing.xs,p.default.spacing.xs,p.default.spacing.xxxs,p.default.spacing.md,C.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxxs,alignItems:"center",justifyContent:"start"}),C.ZP.typography.caption({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelSecondary,C.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"end"}),C.ZP.typography.bodyLarge({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelPrimary]]])+" start-items",children:this.props.startItems}),(0,a.jsx)("div",{className:r().dynamic([["4b11d5ab401b9672",[p.default.spacing.xs,p.default.spacing.xs,p.default.spacing.xxxs,p.default.spacing.md,C.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxxs,alignItems:"center",justifyContent:"start"}),C.ZP.typography.caption({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelSecondary,C.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"end"}),C.ZP.typography.bodyLarge({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelPrimary]]])+" end-items",children:this.props.endItems}),(0,a.jsx)(r(),{id:"4b11d5ab401b9672",dynamic:[p.default.spacing.xs,p.default.spacing.xs,p.default.spacing.xxxs,p.default.spacing.md,C.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxxs,alignItems:"center",justifyContent:"start"}),C.ZP.typography.caption({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelSecondary,C.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"end"}),C.ZP.typography.bodyLarge({skip:["line-height"]}),this.props.websiteDesign.theme.colors.labelPrimary],children:`.card-footer.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;cursor:default;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;position:absolute;left:${p.default.spacing.xs};right:${p.default.spacing.xs};bottom:${p.default.spacing.xxxs};height:${p.default.spacing.md}}.start-items.__jsx-style-dynamic-selector{${C.ZP.gapped({direction:"horizontal",gap:p.default.spacing.xxxs,alignItems:"center",justifyContent:"start"})};${C.ZP.typography.caption({skip:["line-height"]})}
            color: ${this.props.websiteDesign.theme.colors.labelSecondary};}.end-items.__jsx-style-dynamic-selector{${C.ZP.gapped({direction:"horizontal",alignItems:"center",justifyContent:"end"})};${C.ZP.typography.bodyLarge({skip:["line-height"]})}
            color: ${this.props.websiteDesign.theme.colors.labelPrimary};}`})]})}}var e_=(0,ec.EL)(eZ),e$=t(293786),eC=t(798396),eI=t(447878),eD=t(548995),eL=t(119477),eN=t(207475),eF=e=>(0,a.jsxs)("div",{className:r().dynamic([["993882e75b4ac8fa",[p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxs,C.ZP.overflowWrap(),eh.Kk.RTL,p.default.spacing.xxs]]])+" badge-wrapper",children:[(0,a.jsx)(eN.Z,{sharingLevel:e.sharingLevel,mode:e.isOwner?e.publishType:eC.PC.published,itemType:e.itemType}),(0,a.jsx)(r(),{id:"993882e75b4ac8fa",dynamic:[p.default.spacing.xxs,p.default.spacing.xxs,p.default.spacing.xxs,C.ZP.overflowWrap(),eh.Kk.RTL,p.default.spacing.xxs],children:`.badge-wrapper.__jsx-style-dynamic-selector{position:absolute;top:${p.default.spacing.xxs};right:${p.default.spacing.xxs};max-width:-webkit-calc(100% - (${p.default.spacing.xxs} * 2));max-width:-moz-calc(100% - (${p.default.spacing.xxs} * 2));max-width:calc(100% - (${p.default.spacing.xxs} * 2));${C.ZP.overflowWrap()}
      }${eh.Kk.RTL} .badge-wrapper.__jsx-style-dynamic-selector{right:auto;left:${p.default.spacing.xxs}}`})]}),eT=t(322889);let eR=(0,l.memo)(()=>{let{productVariables:e,theme:s}=(0,ec.Fj)();return(0,a.jsxs)("span",{className:r().dynamic([["1b6854705256f60b",[p.default.spacing.xxxs,s.colors.interactiveDefault,s.colors.labelReverse,e.borderRadius.mid,e.borderRadius.regular]]])+" template-badge",children:[(0,a.jsx)(_.Z,{path:eT.x,size:16}),(0,a.jsx)(r(),{id:"1b6854705256f60b",dynamic:[p.default.spacing.xxxs,s.colors.interactiveDefault,s.colors.labelReverse,e.borderRadius.mid,e.borderRadius.regular],children:`.template-badge.__jsx-style-dynamic-selector{pointer-events:none;position:absolute;inset-block-start:0;inset-inline-start:0;padding:${p.default.spacing.xxxs};background-color:${s.colors.interactiveDefault};color:${s.colors.labelReverse};border-start-start-radius:${e.borderRadius.mid};border-end-end-radius:${e.borderRadius.regular}}`})]})});var ez=t(348281),eM=t(790597),eB=t(799393);let eO="disabled-element";var eA=e=>{let{item:s,isDisabled:t,isSelected:i,role:l}=e,{authManager:o}=(0,u.Pc)(),{PORTAL_HOST:n,BASE_URL:c}=(0,et.ZR)(),{isPortal:p}=(0,eL.rA)(),{screenWidth:m}=(0,ed.uw)(),{theme:h}=(0,ec.Fj)(),x=(0,w.Z)(),g={styles:(0,a.jsx)(r(),{id:"dd04486c26562d7b",dynamic:[eO,h.colors.interactiveDefault],children:`.item-card.__jsx-style-dynamic-selector{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.${eO}.__jsx-style-dynamic-selector{pointer-events:none}.disabled-card-wrapper.__jsx-style-dynamic-selector{cursor:not-allowed;opacity:.6}.template.__jsx-style-dynamic-selector::after{content:"";position:absolute;top:0;left:0;width:100%;height:.6rem;-webkit-border-top-left-radius:inherit;-moz-border-radius-topleft:inherit;border-top-left-radius:inherit;-webkit-border-top-right-radius:inherit;-moz-border-radius-topright:inherit;border-top-right-radius:inherit;background-color:${h.colors.interactiveDefault}}`}),className:r().dynamic([["dd04486c26562d7b",[eO,h.colors.interactiveDefault]]])},f=(0,ei.HL)(s),b=!!o&&o.username===e.item.owner,y=s.modified,S=t&&!e.isSelected,j=(0,ei.qg)(s),v=(0,ei.Ot)(s);f!==e$.o.Collection||v||(v="private"===s.access?eC.PC.draft:eC.PC.published);let k=()=>!!o&&o.username===e.item.owner,P=()=>k()?{itemId:e.item.id,itemType:e$.o.Theme,route:"builder"}:{itemType:e$.o.Story,route:"create",themeId:e.item.id},Z=()=>e.item.type===eI.j3?P():{itemId:e.item.id,itemType:(0,ei.HL)(e.item),route:(0,eB.po)(e.item,m,k())},{href:_,renderWithLink:$}=(()=>{if("button"===e.role)return{};if([eI.j3,eI.Cs].includes(e.item.type))return{renderWithLink:e=>(0,a.jsx)(eD.e,{routeDef:Z(),children:e})};let{href:s}=(0,eB.yz)({item:e.item,authManager:o,screenWidth:m,portalHost:n,isPortal:p,baseUrl:c});return{href:s}})(),C=f&&v&&!e.hidePublishBadge&&(0,a.jsx)(eF,{isOwner:b,sharingLevel:{access:s.access,isUnlisted:s.typeKeywords?.includes(eI.L7)??!1},publishType:v,itemType:f}),I=(0,a.jsxs)(ep.ZP,{className:d()("item-card",g.className,{[eO]:S,template:j}),tabIndex:"0",tagName:"link"===l||_?"a":void 0,href:_,role:"button"===l?"button":void 0,fitHeight:!0,onClick:e.onClick,onKeyDown:e.onClick,trackingEventData:e.trackingEventData,children:[(0,a.jsxs)(eu.Z,{children:[(0,a.jsx)(em.Z,{src:e.thumbnailUrl,...f===e$.o.Frame&&{backgroundOverlayAspectRatio:9/16,hasBackgroundOverlay:!0}}),e.isSelectable&&(0,a.jsx)("div",{className:r().dynamic([["b99381cae2009eec",[eh.Kk.RTL]]])+" selectable-container",children:(0,a.jsx)(eM.Z,{variant:"checkbox",isSelected:!!i})})]}),(0,a.jsxs)(ex,{children:[y&&(0,a.jsx)(eb,{children:(0,a.jsx)(E.Z,{id:"builder.itemBrowser.editedOnDate",values:{date:(0,a.jsx)(ez.Z,{time:y})}})}),(0,a.jsx)(eS,{lineClamp:1,children:e.title}),(0,a.jsx)(ew,{lineClamp:3,children:e.description}),(0,a.jsx)(ev,{})]}),(0,a.jsx)(r(),{id:"b99381cae2009eec",dynamic:[eh.Kk.RTL],children:`.selectable-container.__jsx-style-dynamic-selector{position:absolute;top:1rem;left:1rem}${eh.Kk.RTL} .selectable-container.__jsx-style-dynamic-selector{right:1rem;left:unset}`})]}),D=$?.(I)??I;return(0,a.jsxs)(ek.Z,{className:d()({"item-result":!S,"disabled-card-wrapper":S,[g.className]:S}),hasAction:!S&&void 0,children:[(0,a.jsx)(eP.Z,{placement:"top-start",tooltipContent:j?x("common.template"):void 0,children:D}),(0,a.jsx)(e_,{startItems:e.renderFooterStartItems?.(e),endItems:e.renderFooterEndItems?.(e),className:d()({[eO]:S})}),j&&(0,a.jsx)(eR,{}),C,g.styles]})},eG=t(567523),eH=t(311486),eE=e=>{let s=(0,w.Z)(),{theme:t}=(0,ec.Fj)(),{item:i,renderFooterStartItems:l}=e,o=(0,ei.HL)(i),n=new Date(i.modified),c=(0,ei.c4)(i),u=(0,ei.qg)(i),m="flat",h={styles:(0,a.jsx)(r(),{id:"93e1f4325853ed4b",dynamic:[m,t.colors.labelPrimary,t.colors.outlineSubduedDefault,p.default.spacing.xs,p.default.spacing.sm,p.default.spacing.xxxs,m,m,p.default.spacing.xxxs,m,p.default.spacing.xxxs,m,m,p.default.spacing.xs],children:`.${m}.item-card.__jsx-style-dynamic-selector{color:${t.colors.labelPrimary};background-color:transparent;border-bottom:2px solid ${t.colors.outlineSubduedDefault};-webkit-border-radius:0;-moz-border-radius:0;border-radius:0;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;display:grid;grid-gap:${p.default.spacing.xs};padding-bottom:${p.default.spacing.sm};margin-bottom:${p.default.spacing.xxxs}}.${m}.item-card-body.__jsx-style-dynamic-selector{padding:0;text-align:start}.${m}.item-card-body.__jsx-style-dynamic-selector>*+*{margin-top:${p.default.spacing.xxxs}}.${m}.item-card-image.__jsx-style-dynamic-selector{-webkit-border-radius:${p.default.spacing.xxxs};-moz-border-radius:${p.default.spacing.xxxs};border-radius:${p.default.spacing.xxxs}}.${m}.item-card-footer.__jsx-style-dynamic-selector{left:0;right:0;bottom:0}.${m}.item-card-tags.__jsx-style-dynamic-selector{margin-top:${p.default.spacing.xs}}`}),className:r().dynamic([["93e1f4325853ed4b",[m,t.colors.labelPrimary,t.colors.outlineSubduedDefault,p.default.spacing.xs,p.default.spacing.sm,p.default.spacing.xxxs,m,m,p.default.spacing.xxxs,m,p.default.spacing.xxxs,m,m,p.default.spacing.xs]]])},x={styles:(0,a.jsx)(r(),{id:"3944edfc4ef33db4",dynamic:[t.colors.labelSecondary,C.ZP.typography.bodySmall()],children:`.item-card-date.__jsx-style-dynamic-selector{display:block;color:${t.colors.labelSecondary};${C.ZP.typography.bodySmall()}
    }`}),className:r().dynamic([["3944edfc4ef33db4",[t.colors.labelSecondary,C.ZP.typography.bodySmall()]]])};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(ek.Z,{hasAction:!1,children:[(0,a.jsx)(eD.e,{routeDef:(0,eG.kN)({route:"viewer",itemId:i.id,itemType:o,isTemplate:u}),children:(0,a.jsxs)(ep.ZP,{tagName:"a",className:d()(m,"item-card",h.className),fitHeight:!0,trackingEventData:e.trackingEventData,children:["none"!==e.thumbnailUrl&&(0,a.jsx)(eu.Z,{aspectRatio:{width:632,height:360},children:(0,a.jsx)(em.Z,{className:d()(m,"item-card-image",h.className),src:e.thumbnailUrl,...o===e$.o.Frame&&{backgroundOverlayAspectRatio:9/16,hasBackgroundOverlay:!0}})}),(0,a.jsxs)(ex,{className:d()(m,"item-card-body",h.className),children:[(0,a.jsx)(ez.Z,{time:n,className:d()(x.className,"item-card-date")}),x.styles,(0,a.jsx)("h2",{className:r().dynamic([["a4e76ad7ffbba5b8",[C.ZP.typography.headingSmall({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.h4({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.bodyLarge({lineClamp:{numLines:4,fit:!0}}),t.colors.labelSecondary,C.ZP.typography.bodyLarge(),t.colors.labelLink]]])+" item-card-title",children:e.title}),i.snippet&&(0,a.jsx)("p",{className:r().dynamic([["a4e76ad7ffbba5b8",[C.ZP.typography.headingSmall({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.h4({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.bodyLarge({lineClamp:{numLines:4,fit:!0}}),t.colors.labelSecondary,C.ZP.typography.bodyLarge(),t.colors.labelLink]]])+" item-card-snippet",children:i.snippet}),(0,a.jsx)("p",{className:r().dynamic([["a4e76ad7ffbba5b8",[C.ZP.typography.headingSmall({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.h4({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.bodyLarge({lineClamp:{numLines:4,fit:!0}}),t.colors.labelSecondary,C.ZP.typography.bodyLarge(),t.colors.labelLink]]])+" item-card-description",children:e.description}),i.url&&(0,a.jsx)("span",{className:r().dynamic([["a4e76ad7ffbba5b8",[C.ZP.typography.headingSmall({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.h4({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.bodyLarge({lineClamp:{numLines:4,fit:!0}}),t.colors.labelSecondary,C.ZP.typography.bodyLarge(),t.colors.labelLink]]])+" item-card-link",children:s("common.readMore")}),c&&(0,a.jsx)(eH.Z,{topicTagIds:c,className:d()(m,h.className,"item-card-tags"),isLinkedTopicTag:!1})]})]})}),(0,a.jsx)(e_,{className:d()(m,"item-card-footer",h.className),startItems:l?.(e)})]}),(0,a.jsx)(r(),{id:"a4e76ad7ffbba5b8",dynamic:[C.ZP.typography.headingSmall({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.h4({lineClamp:{numLines:2,fit:!0}}),C.ZP.typography.bodyLarge({lineClamp:{numLines:4,fit:!0}}),t.colors.labelSecondary,C.ZP.typography.bodyLarge(),t.colors.labelLink],children:`.item-card-title.__jsx-style-dynamic-selector{${C.ZP.typography.headingSmall({lineClamp:{numLines:2,fit:!0}})}
          letter-spacing: 0;}.item-card-snippet.__jsx-style-dynamic-selector{${C.ZP.typography.h4({lineClamp:{numLines:2,fit:!0}})}
        }.item-card-description.__jsx-style-dynamic-selector{${C.ZP.typography.bodyLarge({lineClamp:{numLines:4,fit:!0}})}
          color: ${t.colors.labelSecondary};}.item-card-link.__jsx-style-dynamic-selector{${C.ZP.typography.bodyLarge()}
          display: block;text-decoration:underline;color:${t.colors.labelLink};letter-spacing:0}`}),h.styles]})};let eQ=new es.Z({whiteList:{p:[]},stripIgnoreTag:!0,allowCommentTag:!1},!1);var eU=e=>{let{flavor:s="default",...t}=e,i=(0,w.Z)(),{PORTAL_HOST:r,BASE_URL:l}=(0,et.ZR)(),{authManager:o}=(0,u.Pc)(),n=t.item,d=(0,ea.G)(n),c=(0,ei.HL)(n),p=(0,ei.qg)(n),m={title:d?.metaProperties?.title||(c&&(0,el.PR)(n.title)?i((0,eo.yJ)(c,p)):n.title),description:(()=>{if("default"===s||"compact"===s)return d?.metaProperties?.description??n.snippet;let e=n.description,t=eQ.sanitize(e);return t?.replace(/<p>/g,"").replace(/<\/p>/g," ").trim()})(),thumbnailUrl:(0,er.Sg)({portalHost:r,itemDetails:n,fallbackUrl:"flat"===s?"none":(0,el.Zr)(l),authManager:o,size:"flat"===s?800:400}),item:t.item,role:t.role};return"flat"===s?(0,a.jsx)(eE,{...m,renderFooterStartItems:t.renderFooterStartItems,trackingEventData:t.trackingEventData}):"compact"===s?(0,a.jsx)(en.Z,{...m,isSelected:t.isSelected,onClick:t.onClick}):(0,a.jsx)(eA,{...m,isSelectable:t.isSelectable,isSelected:t.isSelected,isDisabled:t.isDisabled,hidePublishBadge:t.hidePublishBadge,onClick:t.onClick,renderFooterStartItems:t.renderFooterStartItems,renderFooterEndItems:t.renderFooterEndItems,trackingEventData:t.trackingEventData})};let eW={styles:(0,a.jsx)(r(),{id:"a249a5b497f3c184",children:`.outer-grid-override.jsx-a249a5b497f3c184{margin-top:${p.default.spacing.xs}}.inner-grid-override.jsx-a249a5b497f3c184{grid-gap:${p.default.spacing.xxs}}`}),className:"jsx-a249a5b497f3c184"};class eq extends l.PureComponent{render(){return(0,a.jsxs)(W.Z,{verticalAlign:"center",className:`${eW.className} outer-grid-override`,children:[(0,a.jsx)(q.Z,{size:12,sizeSm:6,children:(0,a.jsxs)(W.Z,{tagName:"ol",equalHeightGridItems:this.props.itemCardProps.shouldCardsBeEqualHeight??!0,className:`${eW.className} inner-grid-override`,children:[this.props.renderInitialUI?.({searchResults:this.props.searchResults,searching:this.props.searching,updatingFilterOrSort:this.props.updatingFilterOrSort,waitingForResults:this.props.waitingForResults,selectedTabId:this.props.selectedTabId,hasModifiers:this.props.hasModifiers,subfilterSelections:this.props.subfilterSelections,selectedGroupId:this.props.selectedGroupId}),this.props.searchResults.map((e,s)=>this.props.shouldIgnoreItem?.(e)?null:(0,a.jsx)(q.Z,{tagName:"li",size:4,sizeMd:6,sizeSm:6,...this.props.itemCardProps.cardDimensions,children:(0,a.jsx)(eU,{flavor:this.props.itemCardProps.flavor,item:e,role:this.props.itemCardProps.role,onClick:this.cardClickHandler(e),renderFooterStartItems:this.props.itemCardProps.renderFooterStartItems,renderFooterEndItems:this.props.itemCardProps.renderFooterEndItems,isSelectable:this.props.itemCardProps.isSelectable??!1,isSelected:this.props.selectedItemsIds?.includes(e.id)??!1,isDisabled:this.props.itemCardProps.isDisabled??!1,trackingEventData:{name:this.props.itemCardProps.pageName,content:`${e.type}:${e.id}`}})},e.id))]})}),this.props.loadMoreStart>1&&this.props.searchResults.length>0&&this.renderLoadMore(),this.renderCallout(),eW.styles]})}constructor(...e){super(...e),this.cardClickHandler=U()(e=>this.onCardClick.bind(this,e)),this.renderLoadMore=()=>(0,a.jsxs)(q.Z,{size:12,sizeSm:6,children:[(0,a.jsx)("div",{className:r().dynamic([["62f6ca9ad38f3110",[p.default.spacing.xxl,C.ZP.center(),p.default.spacing.md]]])+" load-more-btn-container",children:this.props.loadingMore?(0,a.jsx)(K.Z,{label:this.props.intl.formatMessage({id:"builder.common.loading"})}):(0,a.jsx)(Z.ZP,{type:"secondary",onClick:this.props.loadMore,children:(0,a.jsx)(E.Z,{id:"builder.common.loadMore"})})}),(0,a.jsx)(r(),{id:"62f6ca9ad38f3110",dynamic:[p.default.spacing.xxl,C.ZP.center(),p.default.spacing.md],children:`.load-more-btn-container.__jsx-style-dynamic-selector{margin:${p.default.spacing.xxl} auto;${C.ZP.center()};height:${p.default.spacing.md}}`})]}),this.renderCallout=()=>{let e=this.props.featureDecisions.canAccessLivingAtlasSite&&this.props.isRenderingLivingAtlas,s="data-browser"===this.props.id&&("myContent"===this.props.selectedSearchModifier||"sharedWithMe"===this.props.selectedSearchModifier);if(e||s)return(0,a.jsxs)(q.Z,{size:12,sizeSm:6,children:[e&&(0,a.jsx)(ee,{}),s&&(0,a.jsx)(X,{})]})},this.getTrackingData=()=>({regionIndex:this.props.subfilterSelections["living-atlas-regions"],categorySelection:this.props.subfilterSelections["living-atlas-categories"],searchedTerm:this.props.searchTerm,sortSelection:this.props.selectedSortFilter.id}),this.onCardClick=e=>{this.props.itemCardProps.onClick?.(e,{isRenderingLivingAtlas:this.props.isRenderingLivingAtlas,data:this.getTrackingData()})}}}var eK=(0,o.ZP)((0,J.oh)(eq)),eJ=t(972247);let eV={styles:(0,a.jsx)(r(),{id:"dd3c5cbd6cc02a1f",children:".add-item-container.jsx-dd3c5cbd6cc02a1f{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;-moz-box-orient:horizontal;-moz-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}"}),className:"jsx-dd3c5cbd6cc02a1f"},eX=e=>{let{heading:s,addItemButton:t}=e;return s?(0,a.jsxs)(W.Z,{verticalAlign:"center",children:[(0,a.jsx)(q.Z,{size:6,children:(0,a.jsxs)("div",{className:r().dynamic([["72bf883bea76c90d",[C.ZP.typography.displaySmall(),p.default.color.darkGreen,p.default.spacing.xxs,C.ZP.overflowWrap(),p.default.spacing.xxs,p.default.responsiveBreakpoints.medium]]])+" title-wrapper",children:[(0,a.jsx)("h2",{className:r().dynamic([["72bf883bea76c90d",[C.ZP.typography.displaySmall(),p.default.color.darkGreen,p.default.spacing.xxs,C.ZP.overflowWrap(),p.default.spacing.xxs,p.default.responsiveBreakpoints.medium]]]),children:s}),e.shouldHaveBetaBadge&&(0,a.jsx)("div",{className:r().dynamic([["72bf883bea76c90d",[C.ZP.typography.displaySmall(),p.default.color.darkGreen,p.default.spacing.xxs,C.ZP.overflowWrap(),p.default.spacing.xxs,p.default.responsiveBreakpoints.medium]]])+" badge-wrapper",children:(0,a.jsx)(eJ.Z,{})})]})}),t&&(0,a.jsx)(q.Z,{size:6,className:`${eV.className} add-item-container`,children:t}),eV.styles,(0,a.jsx)(r(),{id:"72bf883bea76c90d",dynamic:[C.ZP.typography.displaySmall(),p.default.color.darkGreen,p.default.spacing.xxs,C.ZP.overflowWrap(),p.default.spacing.xxs,p.default.responsiveBreakpoints.medium],children:`h2.__jsx-style-dynamic-selector{${C.ZP.typography.displaySmall()}
          color: ${p.default.color.darkGreen};margin:0 0 ${p.default.spacing.xxs};${C.ZP.overflowWrap()}
        }.title-wrapper.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.badge-wrapper.__jsx-style-dynamic-selector{-webkit-padding-start:${p.default.spacing.xxs};-moz-padding-start:${p.default.spacing.xxs};padding-inline-start:${p.default.spacing.xxs}}@media(min-width:${p.default.responsiveBreakpoints.medium}){h2.__jsx-style-dynamic-selector{margin-bottom:0}}`})]}):null};class eY extends l.PureComponent{static #e=this.defaultProps={tabFilters:[],initialSearchResults:y,shouldHideTabsAndSearchBar:!1};constructor(e){super(e),this._isMounted=!1,this.userFavGroupId="",this.userOrgId="",this.userGroupIds=[],this.username="",this.handleGroupChange=async e=>{let s=e?await this.getSelectedGroup(e):void 0;this.setState({selectedGroup:s},()=>{this.updateQuerySetStateFetchItems()})},this.getSelectedGroup=async e=>await (0,c.ex)(e,{authentication:this.props.authManager}),this.handleSortFilterChange=e=>{this.setState(s=>({selectedSortFilter:e,currentSearch:{...s.currentSearch,sortField:e.sortField,sortOrder:e.sortOrder,start:0}}),()=>this.updateQuerySetStateFetchItems())},this.fetchItems=(0,m.Ds)(async(e,s)=>{if(!this._isMounted)return;let t=await (0,h.Ar)({authentication:this.props.authManager,num:this.props.initialSearchResults.num,...e}),{results:a,start:i,nextStart:r,total:l}=t;this.setState({totalResults:l,loadMoreStart:r,updatingFilterOrSort:!1,loadingMore:!1,searchResults:1===i?a:[...this.state.searchResults,...a],waitingForResults:!1}),s&&"function"==typeof this.props.onInitialResultsFetched&&this.props.onInitialResultsFetched(t)},300),this.handleSearchInputChange=e=>{this.setState({searchTerm:e,updatingFilterOrSort:!0},()=>{this.updateQuerySetStateFetchItems(!1,!0)})},this.onClearSearch=()=>{let e=this.getSelectedTab();e&&this.setState({searching:!1,searchTerm:""},()=>{this.handleTabFilterChange(e)})},this.getTabFilterQuery=e=>{let s=this.userOrgId&&this.state.selectedGroup?.id?`orgid:"${this.userOrgId}" group:(${this.state.selectedGroup.id})`:this.userOrgId?`orgid:"${this.userOrgId}"`:"",t=this.userOrgId&&this.userGroupIds.length?" OR ":"",a=this.state.selectedGroup?.id?`group:(${this.state.selectedGroup.id})`:this.userGroupIds.length?`group:(${this.userGroupIds.join(" OR ")})`:"group:('')";switch(e){case"myContent":return`${this.state.defaultSearchQuery} owner:"${this.username}"`;case"favoritesGroup":return`${this.state.defaultSearchQuery} group:"${this.userFavGroupId}"`;case"sharedWithMe":return`${this.state.defaultSearchQuery} -owner:"${this.username}" (${s}${t}${a})`;case"myGroups":return`${this.state.defaultSearchQuery} ${a}`;case"public":return`${this.state.defaultSearchQuery} access:public -owner:"${this.username}"`;case"myOrganization":return`${this.state.defaultSearchQuery} ${s}`;default:return`${this.state.defaultSearchQuery} ${e}`}},this.handleTabFilterChange=e=>{let s={...this.state.subfilterSelections};e.subfilters?.forEach(e=>{this.state.subfilterSelections[e.id]||void 0===e.defaultFilterOptionId||Object.assign(s,{[e.id]:e.defaultFilterOptionId})}),this.setState(t=>{let a=g;return"public"===e.searchModifier?a=f:e.isLivingAtlas&&(a=t.selectedSortFilter),{subfilterSelections:s,selectedTabId:e.id,selectedSearchModifier:e.searchModifier,updatingFilterOrSort:!0,currentSearch:{...t.currentSearch,sortField:a.sortField,sortOrder:a.sortOrder}}},()=>{this.updateQuerySetStateFetchItems(!1,!0)})},this.handleSubfilterChange=e=>{let{parentId:s,filterOption:t,shouldClearFilter:a}=e,i={...this.state.subfilterSelections};if(a){i[s]=void 0;let e=this.getSelectedTab(),t=e?.subfilters?.find(e=>e.id===s);t?.defaultFilterOptionId&&delete t.defaultFilterOptionId}else i[s]=t.id;let r={...this.state.currentSearch,start:1};this.setState({currentSearch:r,subfilterSelections:i,updatingFilterOrSort:!0},()=>{this.updateQuerySetStateFetchItems()})},this.getSelectedTab=()=>this.props.tabFilters?.find(e=>e.id===this.state.selectedTabId),this.getUpdatedQuery=()=>{let e=this.getSelectedTab(),s=!1,t=`${this.getTabFilterQuery(e.searchModifier)}`,a={...e?.iSearchOptions},i=e?.customSearchOptions||{};return this.state.subfilterSelections&&Object.keys(this.state.subfilterSelections).forEach(r=>{let l=e?.subfilters?.find(e=>e.id===r);l||(l=this.props.sharedSubfilters?.find(e=>e.id===r));let o=l?.filterOptions?.find(e=>e.id===this.state.subfilterSelections[r]);o?(o.searchModifier&&(t+=` ${o.searchModifier}`),o.additionalSearchModifier&&(t+=` ${o.additionalSearchModifier}`),o.iSearchOptions?.categories&&(a.categories?(a.paramStrArr=[`categories=${a.categories}`],a.paramStrArr.push(`categories=${o.iSearchOptions.categories}`),delete a.categories):a.categories=o.iSearchOptions.categories),o.customSearchOptions&&Object.assign(i,o.customSearchOptions),!1!==o.modifiesOriginalSearch&&(s=!0)):l?.defaultSearchModifier&&(t+=` ${l?.defaultSearchModifier}`)}),this.state.searchTerm.length>0&&(t+=` ${this.state.searchTerm}`,s=!0),e?.additionalSearchModifier?.length&&(t+=` ${e.additionalSearchModifier}`),this.setState({hasModifiers:s}),{q:t,searchParams:a,customSearchOptions:i}},this.loadMore=()=>{let e={...this.state.currentSearch,start:this.state.loadMoreStart};this.setState({currentSearch:e,loadingMore:!0}),this.fetchItems(e),this.isRenderingLivingAtlasMaps()&&"basemap-browser"!==this.props.id&&this.state.subfilterSelections&&this.trackLivingAtlasLoadMore()},this.trackLivingAtlasLoadMore=()=>{let e=this.props?.id==="collections",s=this.state.selectedTabId,t=this.props.tabFilters[s],a=t.subfilters?.[1],i=this.state.subfilterSelections["living-atlas-regions"],r=this.state.subfilterSelections["living-atlas-categories"],l=i?a?.filterOptions?.[i]:null,o=l?.label||(l?.labelId?this.props.intl.formatMessage({id:l.labelId}):""),n=t.subfilters?.[0],d=r?n?.filterOptions?.[r]:null,c=d?.iSearchOptions?.categories;x.Z.trackEvent(x.Z.Category.Builder,x.Z.Action.Builder_ItemBrowser,x.Z.Name.LivingAtlas_LoadMore,e?x.Z.Attribute.LivingAtlas_CollectionPicker:x.Z.Attribute.LivingAtlas_MapBrowser,this.state.searchTerm,c??"",o,this.state.selectedSortFilter.id)},this.isRenderingLivingAtlasMaps=()=>!!this.getSelectedTab()?.isLivingAtlas;let s=this.props.tabFilters[0],t=this.props.sharedSubfilters?this.props.sharedSubfilters?.reduce((e,s)=>(Object.assign(e,{[s.id]:s.defaultFilterOptionId}),e),{}):{};this.state={subfilterSelections:t,selectedSearchModifier:s.searchModifier,selectedTabId:s.id,searchResults:e.initialSearchResults.results,currentSearch:{q:e.initialSearchResults.query,start:e.initialSearchResults.start,sortField:g.sortField,sortOrder:g.sortOrder},loadMoreStart:e.initialSearchResults.nextStart,updatingFilterOrSort:!1,searching:!1,searchTerm:"",loadingMore:!1,totalResults:e.initialSearchResults.total,waitingForResults:!0,hasModifiers:!1,defaultSearchQuery:this.props.defaultSearchQuery||"",selectedSortFilter:b[0]}}async componentDidMount(){if(this._isMounted=!0,this.props.authManager){let e=await this.props.authManager.getUser();this.userFavGroupId=e.favGroupId,this.userOrgId=e.orgId,this.username=e.username,this.userGroupIds=(e.groups||[]).map(e=>e.id)}this.updateQuerySetStateFetchItems(!0)}componentWillUnmount(){this._isMounted=!1}render(){return(0,a.jsxs)("div",{className:r().dynamic([["1300858ea7a7f007",[p.default.spacing.md,p.default.spacing.xxs,p.default.responsiveBreakpoints.large,this.props.heading?p.default.spacing.lg:0]]])+" "+(d()("item-browser",this.props.className,{pending:this.props.isPending||this.state.updatingFilterOrSort})||""),children:[(0,a.jsx)(eX,{heading:this.props.heading,addItemButton:this.props.addItemButton,shouldHaveBetaBadge:this.props.shouldHaveBetaBadge}),!this.props.shouldHideTabsAndSearchBar&&(0,a.jsx)(H,{id:this.props.id,tabFilters:this.props.tabFilters,searchBoxProps:this.props.searchBoxProps,heading:this.props.heading,sharedSubfilters:this.props.sharedSubfilters,selectedTabId:this.state.selectedTabId,onTabFilterClicked:this.handleTabFilterChange,onSearch:this.handleSearchInputChange,onSearchCleared:this.onClearSearch,subfilterSelections:this.state.subfilterSelections,onSubfilterClicked:this.handleSubfilterChange,selectedGroup:this.state.selectedGroup??null,onGroupChanged:this.handleGroupChange,selectedSortFilter:this.state.selectedSortFilter,onSortFilterChanged:this.handleSortFilterChange}),(0,a.jsx)(eK,{id:this.props.id,itemCardProps:this.props.itemCardProps,renderInitialUI:this.props.renderInitialUI,shouldIgnoreItem:this.props.shouldIgnoreItem,selectedItemsIds:this.props.selectedItemsIds,selectedSearchModifier:this.state.selectedSearchModifier,searchResults:this.state.searchResults,searching:this.state.searching,updatingFilterOrSort:this.state.updatingFilterOrSort,selectedTabId:this.state.selectedTabId,hasModifiers:this.state.hasModifiers,waitingForResults:this.state.waitingForResults,loadingMore:this.state.loadingMore,loadMoreStart:this.state.loadMoreStart,subfilterSelections:this.state.subfilterSelections,selectedGroupId:this.state.selectedGroup?.id??"",searchTerm:this.state.searchTerm,selectedSortFilter:this.state.selectedSortFilter,isRenderingLivingAtlas:this.isRenderingLivingAtlasMaps(),loadMore:this.loadMore}),(0,a.jsx)(r(),{id:"1300858ea7a7f007",dynamic:[p.default.spacing.md,p.default.spacing.xxs,p.default.responsiveBreakpoints.large,this.props.heading?p.default.spacing.lg:0],children:`.item-browser.__jsx-style-dynamic-selector{margin:${p.default.spacing.md} 0 ${p.default.spacing.xxs}}.item-browser.__jsx-style-dynamic-selector .item-result{opacity:1;-webkit-animation:300ms ease-in-out 0s enableResults;-moz-animation:300ms ease-in-out 0s enableResults;-o-animation:300ms ease-in-out 0s enableResults;animation:300ms ease-in-out 0s enableResults}.item-browser.pending.__jsx-style-dynamic-selector .item-result{opacity:.5;pointer-events:none;-webkit-animation:300ms ease-in-out 0s disableResult;-moz-animation:300ms ease-in-out 0s disableResult;-o-animation:300ms ease-in-out 0s disableResult;animation:300ms ease-in-out 0s disableResult}@-webkit-keyframes enableResults{0%{opacity:.5}100%{opacity:1}}@-moz-keyframes enableResults{0%{opacity:.5}100%{opacity:1}}@-o-keyframes enableResults{0%{opacity:.5}100%{opacity:1}}@keyframes enableResults{0%{opacity:.5}100%{opacity:1}}@-webkit-keyframes disableResult{0%{opacity:1}100%{opacity:.5}}@-moz-keyframes disableResult{0%{opacity:1}100%{opacity:.5}}@-o-keyframes disableResult{0%{opacity:1}100%{opacity:.5}}@keyframes disableResult{0%{opacity:1}100%{opacity:.5}}@media(min-width:${p.default.responsiveBreakpoints.large}){.item-browser.__jsx-style-dynamic-selector{margin-top:${this.props.heading?p.default.spacing.lg:0}}}`})]})}updateQuerySetStateFetchItems(e,s){let t=this.getUpdatedQuery(),a=s?{start:0,sortField:this.state.currentSearch.sortField,sortOrder:this.state.currentSearch.sortOrder,...t}:{...this.state.currentSearch,...t},i={currentSearch:a};s&&Object.assign(i,{loadMoreStart:-1}),this.setState(i),e&&this.state.searchResults.length||this.fetchItems(a,!0)}}var e0=(0,o.ZP)((0,u.d2)(eY))},311486:function(e,s,t){var a=t(552322),i=t(742951),r=t.n(i),l=t(412524),o=t.n(l),n=t(790007),d=t(558001),c=t(788028),p=t(326860),u=t(548995),m=t(457421);s.Z=e=>{let{variant:s="small",...t}=e,{theme:i,productVariables:l}=(0,n.Fj)(),h=(0,m.Jp)(),x={styles:(0,a.jsx)(r(),{id:"70d6d85e886abcf3",dynamic:[i.colors.backgroundSecondary,i.colors.labelPrimary,l.borderRadius.regular,d.ZP.typography.labelSmall(),c.default.spacing.xxxxs,c.default.spacing.xxxs,c.default.spacing.xxxs],children:`.topic-tag.__jsx-style-dynamic-selector{background-color:${i.colors.backgroundSecondary};color:${i.colors.labelPrimary};-webkit-border-radius:${l.borderRadius.regular};-moz-border-radius:${l.borderRadius.regular};border-radius:${l.borderRadius.regular};${d.ZP.typography.labelSmall()}
    }.small.__jsx-style-dynamic-selector{padding:${c.default.spacing.xxxxs} ${c.default.spacing.xxxs}}.large.__jsx-style-dynamic-selector{padding:${c.default.spacing.xxxs}}`}),className:r().dynamic([["70d6d85e886abcf3",[i.colors.backgroundSecondary,i.colors.labelPrimary,l.borderRadius.regular,d.ZP.typography.labelSmall(),c.default.spacing.xxxxs,c.default.spacing.xxxs,c.default.spacing.xxxs]]])},g=o()("topic-tag",s,x.className);return(0,a.jsxs)("ol",{className:r().dynamic([["ac5c301e0b524dce",[c.default.spacing.xxxs,i.colors.labelPrimary]]])+" "+(o()("topic-tags",t.className)||""),children:[t.topicTagIds.map(e=>t.isLinkedTopicTag?(0,a.jsx)("li",{className:r().dynamic([["ac5c301e0b524dce",[c.default.spacing.xxxs,i.colors.labelPrimary]]]),children:(0,a.jsx)(u.e,{routeDef:{route:"story-topic",topic:e},children:(0,a.jsx)(p.ZP,{type:"text",className:g,trackingEventData:t.trackingEventName?{name:t.trackingEventName,content:h[e]}:{},"aria-pressed":t.selectedTopicTagId===e,children:h[e]})})},e):(0,a.jsx)("li",{className:r().dynamic([["ac5c301e0b524dce",[c.default.spacing.xxxs,i.colors.labelPrimary]]])+" "+(g||""),children:h[e]},e)),x.styles,(0,a.jsx)(r(),{id:"ac5c301e0b524dce",dynamic:[c.default.spacing.xxxs,i.colors.labelPrimary],children:`.topic-tags.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:${c.default.spacing.xxxs};color:${i.colors.labelPrimary}}`})]})}},790597:function(e,s,t){var a=t(552322),i=t(742951),r=t.n(i),l=t(202784),o=t(289274),n=t(412524),d=t.n(n),c=t(533730),p=t(592032),u=t(788028),m=t(558001),h=t(103010),x=t(790007);class g extends l.PureComponent{render(){let e="checkbox"===this.props.variant?"button":"div",s=this.props.isSelected?{path:c.b,fill:this.props.websiteDesign.theme.colors.labelPrimaryReverse,size:16}:{path:p.L,fill:this.props.websiteDesign.theme.colors.labelPrimary,size:16};return(0,a.jsxs)(e,{"aria-label":"checkbox"===this.props.variant?this.props.intl.formatMessage({id:this.props.isSelected?"builder.common.selected":"builder.common.unselected"}):void 0,className:r().dynamic([["67f17835f003527",[u.default.spacing.sm,u.default.spacing.sm,m.ZP.center(),this.props.websiteDesign.theme.colors.surfaceDefault,m.ZP.shadow.xs(),u.default.spacing.xxxxs,this.props.websiteDesign.theme.colors.outlineSubduedDefault,this.props.websiteDesign.theme.colors.interactiveDefault,this.props.websiteDesign.theme.colors.outlineSubduedDefault,this.props.websiteDesign.theme.colors.surfaceHover,this.props.websiteDesign.theme.colors.interactiveHover,this.props.websiteDesign.theme.colors.surfaceDefault,this.props.websiteDesign.theme.colors.outlineSubduedHover]]])+" "+(d()("selectable",this.props.classNames,{radio:"radio"===this.props.variant,checkbox:"checkbox"===this.props.variant,selected:this.props.isSelected})||""),children:[("radio"!==this.props.variant||this.props.isSelected)&&(0,a.jsx)(h.Z,{...s,shouldFlipRTL:!1}),(0,a.jsx)(r(),{id:"67f17835f003527",dynamic:[u.default.spacing.sm,u.default.spacing.sm,m.ZP.center(),this.props.websiteDesign.theme.colors.surfaceDefault,m.ZP.shadow.xs(),u.default.spacing.xxxxs,this.props.websiteDesign.theme.colors.outlineSubduedDefault,this.props.websiteDesign.theme.colors.interactiveDefault,this.props.websiteDesign.theme.colors.outlineSubduedDefault,this.props.websiteDesign.theme.colors.surfaceHover,this.props.websiteDesign.theme.colors.interactiveHover,this.props.websiteDesign.theme.colors.surfaceDefault,this.props.websiteDesign.theme.colors.outlineSubduedHover],children:`.selectable.__jsx-style-dynamic-selector{width:${u.default.spacing.sm};height:${u.default.spacing.sm};text-align:center;margin:auto;${m.ZP.center()}
            background-color: ${this.props.websiteDesign.theme.colors.surfaceDefault};}.selectable.checkbox.__jsx-style-dynamic-selector{${m.ZP.shadow.xs()}
            border: 2px solid transparent;-webkit-border-radius:${u.default.spacing.xxxxs};-moz-border-radius:${u.default.spacing.xxxxs};border-radius:${u.default.spacing.xxxxs}}.selectable.radio.__jsx-style-dynamic-selector{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;border:2px solid ${this.props.websiteDesign.theme.colors.outlineSubduedDefault}}.selectable.selected.__jsx-style-dynamic-selector{background-color:${this.props.websiteDesign.theme.colors.interactiveDefault};border-color:${this.props.websiteDesign.theme.colors.outlineSubduedDefault}}.card-wrapper:hover .selectable.__jsx-style-dynamic-selector{background:${this.props.websiteDesign.theme.colors.surfaceHover}}.card-wrapper:hover .selectable.selected.__jsx-style-dynamic-selector{background:${this.props.websiteDesign.theme.colors.interactiveHover}}.card-wrapper:hover .selectable.selected.__jsx-style-dynamic-selector .icon.__jsx-style-dynamic-selector svg.__jsx-style-dynamic-selector{fill:${this.props.websiteDesign.theme.colors.surfaceDefault}}.label-content:hover .selectable.__jsx-style-dynamic-selector{border-color:${this.props.websiteDesign.theme.colors.outlineSubduedHover}}`})]})}}s.Z=(0,x.EL)((0,o.ZP)(g))},604980:function(e,s,t){var a=t(552322),i=t(202784),r=t(412524),l=t.n(r),o=t(790007),n=t(625056),d=t(326860),c=t(344159),p=t(103010),u=t(228168),m=t(65032),h=t(537905);s.Z=e=>{let s=(0,h.Z)(),{theme:t}=(0,o.Fj)(),{toast:r}=(0,n.pm)(),{addStringId:x,removeStringId:g,disabledStringId:f,filledIconPath:b,unfilledIconPath:y}=(0,u._)(),[S,j]=(0,i.useState)(e.isFavorite),w=async()=>{if(!e.authManager)return;let s={id:e.id,authManager:e.authManager,toast:r,owner:e.owner,itemType:e.type};S?await (0,m.mA)(s):await (0,m.Vx)(s),j(!S)},v=s(S?g:x),k=s(f),P=!e.authManager,Z=P?t.colors.labelDisabled:e.iconColor||t.colors.labelPrimary,_=()=>(0,a.jsx)(d.ZP,{type:"single-icon",className:l()("favorite",{"is-favorite":S},e.className),onClick:w,"aria-label":e.authManager?v:k,disabled:P,children:(0,a.jsx)(c.Z,{tooltipContent:e.authManager?v:void 0,children:(0,a.jsx)(p.Z,{path:S?b:y,size:16,fill:Z})})});return P?(0,a.jsx)(c.Z,{tooltipContent:k,children:(0,a.jsx)("div",{children:_()})}):_()}},457421:function(e,s,t){t.d(s,{Jp:function(){return c},M7:function(){return d},sM:function(){return p}});var a=t(552322),i=t(202784),r=t(850358),l=t(999354),o=t(537905);let n=(0,i.createContext)({availableTopicTags:[],selectedTopicTagIds:[],addTopicTag:()=>{},removeTopicTag:()=>{},resetSelectedTopicTagIds:()=>{}}),d=()=>(0,i.useContext)(n),c=()=>{let e=(0,o.Z)();return(0,i.useMemo)(()=>({smttravel:e("common.topicTag.travel"),smtoutdoors:e("common.topicTag.outdoors"),smtfood:e("common.topicTag.food"),smtsports:e("common.topicTag.sports"),smtartandculture:e("common.topicTag.artAndCulture"),smtphotography:e("common.topicTag.photography"),smtlifestyle:e("common.topicTag.lifestyle"),smtscienceandtech:e("common.topicTag.scienceAndTechnology"),smthistory:e("common.topicTag.history"),smtpersonal:e("common.topicTag.personal"),smtreport:e("common.topicTag.report"),smtenvironmentandclimate:e("common.topicTag.environmentAndClimate"),smtbusiness:e("common.topicTag.business"),smtcommunity:e("common.topicTag.community"),smtentertainment:e("common.topicTag.entertainment"),smtevent:e("common.topicTag.event"),smtmaps:e("common.topicTag.maps")}),[e])},p=e=>{let[s,t]=(0,i.useState)(e.selectedTopicTagIds),{SHARING_TOPIC_TAG_IDS:o,MAX_NUMBER_OF_TOPIC_TAGS:d}=(0,r.ZR)(),p=c(),u=(0,i.useCallback)(()=>{t(e.selectedTopicTagIds)},[e.selectedTopicTagIds]);(0,i.useEffect)(()=>{u()},[e.selectedTopicTagIds,u]);let m=(0,i.useMemo)(()=>(o??[]).sort((e,s)=>e.localeCompare(s)).map(e=>({id:e,name:p[e]})),[o,p]),h=(0,i.useCallback)(e=>{s.includes(e)||void 0!==d&&s.length>=d||(t([...s,e]),l.Z.trackEvent(l.Z.Category.Builder,l.Z.Action.Builder_SelectTopicTag,e))},[s,d]),x=(0,i.useCallback)(e=>{t(s.filter(s=>s!==e))},[s]),g=(0,i.useMemo)(()=>({availableTopicTags:m,selectedTopicTagIds:s,addTopicTag:h,removeTopicTag:x,resetSelectedTopicTagIds:u,maxAllowedTopicTagSelections:d}),[m,s,h,x,u,d]);return(0,a.jsx)(n.Provider,{value:g,children:e.children})}},687615:function(e,s,t){var a=t(552322),i=t(742951),r=t.n(i);t(202784);var l=t(412524),o=t.n(l),n=t(788028);let d=e=>(0,a.jsxs)("article",{className:r().dynamic([["70a97df7c1aa4b76",[n.default.spacing.xxxs,n.default.spacing.xxxs]]])+" "+(o()("card-wrapper",e.className,{"has-action":e.hasAction})||""),children:[(0,a.jsx)("div",{className:r().dynamic([["70a97df7c1aa4b76",[n.default.spacing.xxxs,n.default.spacing.xxxs]]])+" action-animation-wrapper",children:e.children}),(0,a.jsx)(r(),{id:"70a97df7c1aa4b76",dynamic:[n.default.spacing.xxxs,n.default.spacing.xxxs],children:`.card-wrapper.__jsx-style-dynamic-selector{position:relative;width:100%;height:100%}.card-wrapper.has-action.__jsx-style-dynamic-selector .action-animation-wrapper.__jsx-style-dynamic-selector{position:relative;width:100%;height:100%;-webkit-transition:bottom.15s ease-in-out;-moz-transition:bottom.15s ease-in-out;-o-transition:bottom.15s ease-in-out;transition:bottom.15s ease-in-out;bottom:0}@media(hover:hover){.card-wrapper.has-action.__jsx-style-dynamic-selector:hover .action-animation-wrapper.__jsx-style-dynamic-selector{bottom:${n.default.spacing.xxxs};cursor:pointer}.card-wrapper.has-action.__jsx-style-dynamic-selector:focus-within .action-animation-wrapper.__jsx-style-dynamic-selector{bottom:${n.default.spacing.xxxs};cursor:pointer}}`})]});d.defaultProps={hasAction:!0},s.Z=d}}]);