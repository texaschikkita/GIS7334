(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98434],{907335:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/stories/view",function(){return r(95069)}])},561226:function(e,t,r){"use strict";var i=r(552322),n=r(537905),o=r(913649),s=r(788028),a=r(850358),u=r(952025);t.Z=e=>{let{link:t,linkAs:r,altId:d="common.home",prefetch:l,isExternal:c}=e,{OVERVIEW_URL:m}=(0,a.ZR)(),f=(0,n.Z)();return(0,i.jsx)(u.Z,{href:t,as:r,prefetch:l,isExternal:c||t===m,children:(0,i.jsx)("a",{children:(0,i.jsx)(o.Z,{size:s.default.spacing.sm,alt:f(d)})})})}},474676:function(e,t,r){"use strict";var i=r(552322),n=r(202784),o=r(119477),s=r(268206),a=r(219814),u=r(334993),d=r(183351),l=r(518273),c=r(477065),m=r(368041),f=r(561226),p=r(435605);let h=(0,n.memo)(function(e){let{itemType:t,query:r,config:n,signInUrl:h,locale:w}=e;(0,p.IF)(w);let{isReady:y,storyItem:v,initialThemeItemInfo:Z}=(0,p.$q)(t,e),{isPortal:_}=(0,o.rA)(),x=r?.printMode,P=r?.header,b=n.ENABLE_LAB_FEATURES&&r?.areLabFeaturesEnabled==="true",E=(0,p.K3)({isOrgItem:v.isOrgItem,headerQuery:P,isEmbedded:!!e.isEmbedded});return y?(0,i.jsx)(s.C,{areLabFeaturesEnabled:b,storyItem:v,children:(0,i.jsxs)(a.B_,{storyItem:v,children:[(0,i.jsx)(u.Z,{...e,itemType:t,query:r,signInUrl:h,storyItem:v,initialThemeItemInfo:Z,mode:"view",shouldShowViewerHeader:E,printMode:x,redirectOnLoadError:l.q,avatar:(0,i.jsx)(m.Z,{}),appLogo:(0,i.jsx)(f.Z,{link:n.OVERVIEW_URL}),canJumpToLinkedBlock:!0,isPortal:_}),(0,i.jsx)(c.Z,{itemId:v.itemId,itemMode:"published",itemType:t,isTemplate:v.isTemplate,allowPrint:!!x})]})}):(0,i.jsx)(d.Z,{})});t.Z=(0,o.op)(h)},95069:function(e,t,r){"use strict";r.r(t);var i=r(552322),n=r(293786),o=r(949843),s=r(89393),a=r(474676);let u=n.o.Story,d=function(e){return(0,i.jsx)(a.Z,{...e,itemType:u})};d.requiresAuthentication=!1,d.hasPageSpecificLocale=!0,d.getInitialProps=(0,s.b)({itemType:u,dataPreparer:o.A5}),t.default=d},268206:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var i=r(552322),n=r(134585),o=r(980860),s=r(150459),a=r(202784),u=r(969124);class d extends a.PureComponent{constructor(e){super(e),this.updateStoryOffsetContext=(e,t)=>{t?this.setState({...e,updateStoryOffsetContext:this.updateStoryOffsetContext}):this.setState(t=>({...t,...e,updateStoryOffsetContext:this.updateStoryOffsetContext}))},this.state={updateStoryOffsetContext:this.updateStoryOffsetContext,storyOffset:{navBarHeight:"0rem"}}}render(){return(0,i.jsx)(u.B.Provider,{value:this.state,children:this.props.children})}}function l(e){let{areLabFeaturesEnabled:t=!1,children:r,storyItem:a}=e;return(0,i.jsx)(n.HO,{areLabFeaturesEnabled:t,children:(0,i.jsx)(o.M2,{storyItem:a,children:(0,i.jsx)(d,{children:(0,i.jsx)(s.b,{children:r})})})})}},134585:function(e,t,r){"use strict";r.d(t,{HO:function(){return a},JH:function(){return u},Pn:function(){return s}});var i=r(552322),n=r(202784);let o=(0,n.createContext)({areLabFeaturesEnabled:!1}),s=()=>(0,n.useContext)(o).areLabFeaturesEnabled,a=e=>{let{children:t,areLabFeaturesEnabled:r}=e;return(0,i.jsx)(o.Provider,{value:{areLabFeaturesEnabled:r},children:t})},u=e=>t=>(0,i.jsx)(o.Consumer,{children:r=>(0,i.jsx)(e,{...t,...r})})},477065:function(e,t,r){"use strict";var i=r(552322),n=r(202784),o=r(567523),s=r(6921),a=r(999354),u=r(293786);let d=()=>{a.Z.trackEvent(a.Z.Category.Viewer,a.Z.Action.Viewer_Print)},l=(0,n.memo)(e=>{let{routeTo:t,getUrlFromRouteDef:r}=(0,o.Gr)(),l=(0,n.useCallback)(i=>{if(e.itemType!==u.o.Story&&e.itemType!==u.o.Briefing)return;if(e.allowPrint){d();return}i?.preventDefault(),i&&a.Z.trackEvent({draft:a.Z.Category.Builder,published:a.Z.Category.Builder,preview:a.Z.Category.Builder}[e.itemMode],{draft:a.Z.Action.Builder_Print_Preview,published:a.Z.Action.Builder_Print_Preview,preview:a.Z.Action.Builder_Print_Preview}[e.itemMode],a.Z.Name.From_Keyboard);let n=(0,o.kN)({route:"print",printMode:e.itemMode,itemId:e.itemId,itemType:e.itemType,isTemplate:e.isTemplate});switch(e.itemMode){case"draft":t({method:"push",routeDef:n});return;case"published":case"preview":window.location.href=r(n);return;default:throw Error("invalid item mode")}},[t,r,e.itemId,e.allowPrint,e.itemMode,e.itemType,e.isTemplate]),c=(0,n.useCallback)(()=>{if(e.itemType===u.o.Story||e.itemType===u.o.Briefing){if(e.allowPrint){d();return}a.Z.trackEvent({draft:a.Z.Category.Builder,published:a.Z.Category.Viewer,preview:a.Z.Category.Viewer}[e.itemMode],{draft:a.Z.Action.Builder_Print_Preview,published:a.Z.Action.Viewer_Print_Preview,preview:a.Z.Action.Viewer_Print_Preview}[e.itemMode],a.Z.Name.From_Browser_Menu),l()}},[l,e.allowPrint,e.itemMode,e.itemType]);return(0,n.useEffect)(()=>(window.addEventListener("beforeprint",c),()=>{window.removeEventListener("beforeprint",c)}),[c]),(0,i.jsx)(s.Z,{triggerKey:"p",isCtrl:!0,isMeta:!0,on:l})});t.Z=l}},function(e){e.O(0,[92182,42985,8555,55601,40995,83535,24412,98202,91043,18460,75173,59999,92888,49774,40179],function(){return e(e.s=907335)}),_N_E=e.O()}]);