"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[14531],{962593:function(e,a,s){s.d(a,{Z:function(){return y}});var t=s(552322),l=s(742951),i=s.n(l),o=s(202784),r=s(412524),n=s.n(r),c=s(764075),d=s(788028),x=s(790007),u=s(558001),p=s(344159),g=s(103010),f=s(558323),m=s(537905),b=e=>{let{onClick:a}=e,s=(0,o.useRef)(null),l=(0,m.Z)();return(0,o.useEffect)(()=>{let e=e=>{e.stopPropagation(),a()},t=s.current;return t?.addEventListener("click",e,{capture:!0}),()=>{t?.removeEventListener("click",e,{capture:!0})}},[]),(0,t.jsxs)("button",{"aria-label":l("builder.common.clear"),ref:s,className:i().dynamic([["d4de9b52bee3b905",[d.default.spacing.xxxs]]])+" group-select-x",children:[(0,t.jsx)(g.Z,{path:f.n,size:16}),(0,t.jsx)(i(),{id:"d4de9b52bee3b905",dynamic:[d.default.spacing.xxxs],children:`.group-select-x.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;padding:${d.default.spacing.xxxs}}`})]})},y=e=>{let a={styles:(0,t.jsx)(i(),{id:"6df791aaa132a446",dynamic:[d.default.spacing.xxxs],children:`.chevron-down.__jsx-style-dynamic-selector{padding:${d.default.spacing.xxxs}}`}),className:i().dynamic([["6df791aaa132a446",[d.default.spacing.xxxs]]])},{theme:s,productVariables:l}=(0,x.Fj)(),o={"has-selection":e.hasSelection};return(0,t.jsxs)("div",{ref:e.targetRef,className:i().dynamic([["efec846f0d0fc817",[s.colors.outlineSubduedDefault,l.borderRadius.regular,s.colors.backgroundPrimary,s.colors.labelPrimary,s.colors.outlineSubduedHover,s.colors.surfaceActive,s.colors.outlineActive,d.default.spacing.xxs,d.default.spacing.xxxxxs,d.default.spacing.xxxxxs,u.ZP.typography.form.label(),d.default.spacing.xxxs,s.colors.labelPrimary,d.default.spacing.xxxxl,s.colors.labelSecondary,d.default.responsiveBreakpoints.large,"sm"===e.widthRestriction?d.default.spacing.xl:d.default.spacing.xxl,d.default.responsiveBreakpoints.extraLarge,"sm"===e.widthRestriction?d.default.spacing.xxxl:d.default.spacing.xxxxl]]])+" "+(n()("dropdown-target",{...o},{expanded:e["aria-expanded"]})||""),children:[(0,t.jsxs)("button",{"aria-haspopup":"true","aria-expanded":e["aria-expanded"],className:i().dynamic([["efec846f0d0fc817",[s.colors.outlineSubduedDefault,l.borderRadius.regular,s.colors.backgroundPrimary,s.colors.labelPrimary,s.colors.outlineSubduedHover,s.colors.surfaceActive,s.colors.outlineActive,d.default.spacing.xxs,d.default.spacing.xxxxxs,d.default.spacing.xxxxxs,u.ZP.typography.form.label(),d.default.spacing.xxxs,s.colors.labelPrimary,d.default.spacing.xxxxl,s.colors.labelSecondary,d.default.responsiveBreakpoints.large,"sm"===e.widthRestriction?d.default.spacing.xl:d.default.spacing.xxl,d.default.responsiveBreakpoints.extraLarge,"sm"===e.widthRestriction?d.default.spacing.xxxl:d.default.spacing.xxxxl]]])+" "+(n()("filter-button",{...o})||""),children:[(0,t.jsxs)("div",{className:i().dynamic([["efec846f0d0fc817",[s.colors.outlineSubduedDefault,l.borderRadius.regular,s.colors.backgroundPrimary,s.colors.labelPrimary,s.colors.outlineSubduedHover,s.colors.surfaceActive,s.colors.outlineActive,d.default.spacing.xxs,d.default.spacing.xxxxxs,d.default.spacing.xxxxxs,u.ZP.typography.form.label(),d.default.spacing.xxxs,s.colors.labelPrimary,d.default.spacing.xxxxl,s.colors.labelSecondary,d.default.responsiveBreakpoints.large,"sm"===e.widthRestriction?d.default.spacing.xl:d.default.spacing.xxl,d.default.responsiveBreakpoints.extraLarge,"sm"===e.widthRestriction?d.default.spacing.xxxl:d.default.spacing.xxxxl]]])+" button-start",children:[e.icon,e.hasSelection&&e.tooltipText?(0,t.jsx)(p.Z,{maxWidth:e.targetRef?.current?.clientWidth,tooltipContent:e.tooltipText,children:(0,t.jsx)("div",{className:i().dynamic([["efec846f0d0fc817",[s.colors.outlineSubduedDefault,l.borderRadius.regular,s.colors.backgroundPrimary,s.colors.labelPrimary,s.colors.outlineSubduedHover,s.colors.surfaceActive,s.colors.outlineActive,d.default.spacing.xxs,d.default.spacing.xxxxxs,d.default.spacing.xxxxxs,u.ZP.typography.form.label(),d.default.spacing.xxxs,s.colors.labelPrimary,d.default.spacing.xxxxl,s.colors.labelSecondary,d.default.responsiveBreakpoints.large,"sm"===e.widthRestriction?d.default.spacing.xl:d.default.spacing.xxl,d.default.responsiveBreakpoints.extraLarge,"sm"===e.widthRestriction?d.default.spacing.xxxl:d.default.spacing.xxxxl]]])+" "+(n()("filter-select-name",{...o})||""),children:e.label})}):(0,t.jsx)("div",{className:i().dynamic([["efec846f0d0fc817",[s.colors.outlineSubduedDefault,l.borderRadius.regular,s.colors.backgroundPrimary,s.colors.labelPrimary,s.colors.outlineSubduedHover,s.colors.surfaceActive,s.colors.outlineActive,d.default.spacing.xxs,d.default.spacing.xxxxxs,d.default.spacing.xxxxxs,u.ZP.typography.form.label(),d.default.spacing.xxxs,s.colors.labelPrimary,d.default.spacing.xxxxl,s.colors.labelSecondary,d.default.responsiveBreakpoints.large,"sm"===e.widthRestriction?d.default.spacing.xl:d.default.spacing.xxl,d.default.responsiveBreakpoints.extraLarge,"sm"===e.widthRestriction?d.default.spacing.xxxl:d.default.spacing.xxxxl]]])+" "+(n()("filter-select-name",{...o},{"restrict-width":!!e.widthRestriction})||""),children:e.label})]}),!e.hasSelection&&(0,t.jsx)(g.Z,{path:c.x,size:16,className:n()(a.className,"chevron-down"),"aria-hidden":!0}),a.styles]}),e.hasSelection&&e.onClearClick&&(0,t.jsx)(b,{onClick:e.onClearClick}),(0,t.jsx)(i(),{id:"efec846f0d0fc817",dynamic:[s.colors.outlineSubduedDefault,l.borderRadius.regular,s.colors.backgroundPrimary,s.colors.labelPrimary,s.colors.outlineSubduedHover,s.colors.surfaceActive,s.colors.outlineActive,d.default.spacing.xxs,d.default.spacing.xxxxxs,d.default.spacing.xxxxxs,u.ZP.typography.form.label(),d.default.spacing.xxxs,s.colors.labelPrimary,d.default.spacing.xxxxl,s.colors.labelSecondary,d.default.responsiveBreakpoints.large,"sm"===e.widthRestriction?d.default.spacing.xl:d.default.spacing.xxl,d.default.responsiveBreakpoints.extraLarge,"sm"===e.widthRestriction?d.default.spacing.xxxl:d.default.spacing.xxxxl],children:`.dropdown-target.__jsx-style-dynamic-selector{max-width:100%;-webkit-box-shadow:inset 0 0 0 1px ${s.colors.outlineSubduedDefault};-moz-box-shadow:inset 0 0 0 1px ${s.colors.outlineSubduedDefault};box-shadow:inset 0 0 0 1px ${s.colors.outlineSubduedDefault};-webkit-border-radius:${l.borderRadius.regular};-moz-border-radius:${l.borderRadius.regular};border-radius:${l.borderRadius.regular};background-color:${s.colors.backgroundPrimary};color:${s.colors.labelPrimary};width:auto;display:grid;grid-template-columns:auto -webkit-min-content;grid-template-columns:auto min-content}.dropdown-target.__jsx-style-dynamic-selector:hover{-webkit-box-shadow:inset 0 0 0 1px ${s.colors.outlineSubduedHover};-moz-box-shadow:inset 0 0 0 1px ${s.colors.outlineSubduedHover};box-shadow:inset 0 0 0 1px ${s.colors.outlineSubduedHover}}.dropdown-target.has-selection.__jsx-style-dynamic-selector{background-color:${s.colors.surfaceActive}}.dropdown-target.has-selection.__jsx-style-dynamic-selector,.dropdown-target.expanded.__jsx-style-dynamic-selector{-webkit-box-shadow:inset 0 0 0 1px ${s.colors.outlineActive};-moz-box-shadow:inset 0 0 0 1px ${s.colors.outlineActive};box-shadow:inset 0 0 0 1px ${s.colors.outlineActive}}.filter-button.__jsx-style-dynamic-selector{-webkit-padding-start:${d.default.spacing.xxs};-moz-padding-start:${d.default.spacing.xxs};padding-inline-start:${d.default.spacing.xxs};display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;max-width:100%;white-space:nowrap}.filter-button.has-selection.__jsx-style-dynamic-selector{-webkit-padding-end:0;-moz-padding-end:0;padding-inline-end:0;padding-top:${d.default.spacing.xxxxxs};padding-bottom:${d.default.spacing.xxxxxs}}.button-start.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.filter-select-name.__jsx-style-dynamic-selector{${u.ZP.typography.form.label()}
          margin-inline-start: ${d.default.spacing.xxxs};color:${s.colors.labelPrimary};max-width:${d.default.spacing.xxxxl};overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis}.filter-select-name.hasSelection.__jsx-style-dynamic-selector{color:${s.colors.labelSecondary}}@media(min-width:${d.default.responsiveBreakpoints.large}){.filter-select-name.restrict-width.__jsx-style-dynamic-selector{max-width:${"sm"===e.widthRestriction?d.default.spacing.xl:d.default.spacing.xxl}}}@media(min-width:${d.default.responsiveBreakpoints.extraLarge}){.filter-select-name.restrict-width.__jsx-style-dynamic-selector{max-width:${"sm"===e.widthRestriction?d.default.spacing.xxxl:d.default.spacing.xxxxl}}}`})]})}},614531:function(e,a,s){s.d(a,{F:function(){return z}});var t=s(552322),l=s(202784),i=s(759083),o=s(826447),r=s(103010),n=s(537905),c=s(962593),d=s(742951),x=s.n(d),u=s(254073),p=s.n(u),g=s(348206),f=s(355125),m=s(354448),b=s(558001),y=s(788028),h=s(256538),w=s(720598),v=s(850358),_=s(81052),k=s(980860),j=s(119477),P=s(412524),$=s.n(P),S=s(790007),Z=s(578166),R=s(405189),N=s(368667);let C=e=>{let{group:a,isSelected:s,onClick:l}=e,i=(0,v.ZR)(),o=(0,f.Pc)(),r=(0,n.Z)(),{theme:c}=(0,S.Fj)(),d=`${i.BASE_URL}/static/storymaps-builder/images/item-default-thumbnails/groups.png`,u=(0,N.Sg)({portalHost:i.PORTAL_HOST,itemDetails:a,fallbackUrl:d,authManager:o.authManager,size:200,isGroup:!0});return(0,t.jsxs)("div",{className:x().dynamic([["c74a011acbf92091",[c.colors.surfaceHover,c.colors.surfaceActive,y.default.spacing.xxxs,y.default.spacing.xxs,y.default.spacing.md,y.default.spacing.md,y.default.spacing.xxxxs,b.ZP.typography.bodySmall(),c.colors.labelPrimary,y.default.spacing.xxs,Z._F.userIsNotTabbing,Z._F.userIsNotTabbing,b.ZP.center(),b.ZP.screenReaderOnly()]]])+" "+($()("group-item",{isSelected:s})||""),children:[(0,t.jsxs)("button",{onClick:l,className:x().dynamic([["c74a011acbf92091",[c.colors.surfaceHover,c.colors.surfaceActive,y.default.spacing.xxxs,y.default.spacing.xxs,y.default.spacing.md,y.default.spacing.md,y.default.spacing.xxxxs,b.ZP.typography.bodySmall(),c.colors.labelPrimary,y.default.spacing.xxs,Z._F.userIsNotTabbing,Z._F.userIsNotTabbing,b.ZP.center(),b.ZP.screenReaderOnly()]]])+" item-button",children:[(0,t.jsx)("img",{src:u,alt:r("builder.sharingSelector.group.logo.altText"),loading:"lazy",className:x().dynamic([["c74a011acbf92091",[c.colors.surfaceHover,c.colors.surfaceActive,y.default.spacing.xxxs,y.default.spacing.xxs,y.default.spacing.md,y.default.spacing.md,y.default.spacing.xxxxs,b.ZP.typography.bodySmall(),c.colors.labelPrimary,y.default.spacing.xxs,Z._F.userIsNotTabbing,Z._F.userIsNotTabbing,b.ZP.center(),b.ZP.screenReaderOnly()]]])+" item-button-thumb"}),(0,t.jsx)("span",{className:x().dynamic([["c74a011acbf92091",[c.colors.surfaceHover,c.colors.surfaceActive,y.default.spacing.xxxs,y.default.spacing.xxs,y.default.spacing.md,y.default.spacing.md,y.default.spacing.xxxxs,b.ZP.typography.bodySmall(),c.colors.labelPrimary,y.default.spacing.xxs,Z._F.userIsNotTabbing,Z._F.userIsNotTabbing,b.ZP.center(),b.ZP.screenReaderOnly()]]])+" item-button-label",children:a.title})]}),(0,t.jsxs)("a",{target:"_blank",rel:"noopener noreferrer",href:`https://${i.PORTAL_HOST}/home/group.html?id=${a.id}`,className:x().dynamic([["c74a011acbf92091",[c.colors.surfaceHover,c.colors.surfaceActive,y.default.spacing.xxxs,y.default.spacing.xxs,y.default.spacing.md,y.default.spacing.md,y.default.spacing.xxxxs,b.ZP.typography.bodySmall(),c.colors.labelPrimary,y.default.spacing.xxs,Z._F.userIsNotTabbing,Z._F.userIsNotTabbing,b.ZP.center(),b.ZP.screenReaderOnly()]]])+" "+($()("info-button",{isSelected:s})||""),children:[(0,t.jsx)(R.M6,{tooltip:r("common.arcgis.sharing.selector.groupSharing.tooltip.viewGroupDetails")}),(0,t.jsx)("div",{className:x().dynamic([["c74a011acbf92091",[c.colors.surfaceHover,c.colors.surfaceActive,y.default.spacing.xxxs,y.default.spacing.xxs,y.default.spacing.md,y.default.spacing.md,y.default.spacing.xxxxs,b.ZP.typography.bodySmall(),c.colors.labelPrimary,y.default.spacing.xxs,Z._F.userIsNotTabbing,Z._F.userIsNotTabbing,b.ZP.center(),b.ZP.screenReaderOnly()]]])+" screen-reader-only",children:r("builder.itemBrowser.viewFullDetails")})]}),(0,t.jsx)(x(),{id:"c74a011acbf92091",dynamic:[c.colors.surfaceHover,c.colors.surfaceActive,y.default.spacing.xxxs,y.default.spacing.xxs,y.default.spacing.md,y.default.spacing.md,y.default.spacing.xxxxs,b.ZP.typography.bodySmall(),c.colors.labelPrimary,y.default.spacing.xxs,Z._F.userIsNotTabbing,Z._F.userIsNotTabbing,b.ZP.center(),b.ZP.screenReaderOnly()],children:`.group-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.group-item.__jsx-style-dynamic-selector:hover{background-color:${c.colors.surfaceHover}}.group-item.isSelected.__jsx-style-dynamic-selector{background-color:${c.colors.surfaceActive}}.item-button.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;text-align:start;padding:${y.default.spacing.xxxs} ${y.default.spacing.xxs};-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.item-button-thumb.__jsx-style-dynamic-selector{height:${y.default.spacing.md};width:${y.default.spacing.md};-webkit-border-radius:${y.default.spacing.xxxxs};-moz-border-radius:${y.default.spacing.xxxxs};border-radius:${y.default.spacing.xxxxs};-o-object-fit:cover;object-fit:cover}.item-button-label.__jsx-style-dynamic-selector{${b.ZP.typography.bodySmall()}
          color: ${c.colors.labelPrimary};padding:0 ${y.default.spacing.xxs};-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}${Z._F.userIsNotTabbing} .item-button.__jsx-style-dynamic-selector,${Z._F.userIsNotTabbing} .info-button.__jsx-style-dynamic-selector{outline:none}.info-button.__jsx-style-dynamic-selector{${b.ZP.center()}
        }.info-button.__jsx-style-dynamic-selector .screen-reader-only.__jsx-style-dynamic-selector{${b.ZP.screenReaderOnly()}
        }@media(hover:hover){.info-button.__jsx-style-dynamic-selector:not(.isSelected){visibility:hidden}.group-item.__jsx-style-dynamic-selector:hover .info-button.__jsx-style-dynamic-selector{visibility:visible}.group-item.__jsx-style-dynamic-selector:focus-within .info-button.__jsx-style-dynamic-selector{visibility:visible}}`})]})},T=e=>{let{mode:a,selectedGroup:s,onSelectGroup:i,dropdownWidth:o="auto"}=e,r=(0,k.XL)(),c=(0,n.Z)(),d=(0,f.Pc)(),u=(0,v.ZR)(),{isPortal:P}=(0,j.rA)(),[$,S]=(0,l.useState)(null),[Z,R]=(0,l.useState)(null),[N,T]=(0,l.useState)(!1),[z,A]=(0,l.useState)(!1),B=(0,m.Z)(),F=(0,l.useRef)(null),I=P?`orgid:${d.portalSelfResponse?.id} -owner:"esri_livingatlas" -owner:"esri_boundaries" -owner:"esri_demographics"`:`orgid:${d.portalSelfResponse?.id}`;(0,l.useEffect)(()=>{d.authManager&&("ownGroups"===a?H(d.authManager):M());let e=F.current;return()=>{T(!1),R(null),S(null),A(!1),i(s),D.cancel(),e&&(e.value="")}},[a,d]);let H=async e=>{let a=(await e.getUser()).groups;if(a&&a.length){let e=a.sort((e,a)=>{let s=e.title.toUpperCase(),t=a.title.toUpperCase();return s<t?-1:s>t?1:0});S({results:e,num:e.length})}},L=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;T(!0),A(!1);try{return await (0,g.td)({authentication:d.authManager,q:e,params:{start:a,num:20,sortOrder:"asc",sortField:"title",portal:(0,_.Zl)(u.PORTAL_HOST,d.authManager)}})}catch{return A(!0),null}finally{T(!1)}},M=async()=>{S(await L())},O=async e=>{let a=`${e} orgid:${d.portalSelfResponse?.id}`;R(await L(a))},D=(0,l.useCallback)(p()(O,350),[]),E=async e=>{if(!e){D.cancel(),R(null);return}"ownGroups"===a?R({results:($?.results??[]).filter(a=>a.title.toLowerCase().includes(e.toLowerCase()))}):(R({results:[]}),T(!0),await D(e))},G=e=>()=>{let a=V.find(a=>a.id===e);R(null),i(a),F.current&&(F.current.value="")},K=e=>a=>a&&a.results?e?{...e,results:[...a.results,...e.results]}:a:e??null,U=async()=>{Z?.query&&Z.nextStart&&Z.nextStart>0?R(K(await L(Z.query,Z.nextStart))):$?.query&&$.nextStart&&$.nextStart>0&&S(K(await L($.query,$.nextStart)))},q=Z?.results??$?.results??[],V=s?q.filter(e=>e.id!==s.id):q,W=!!Z?.results?.find(e=>e.id===s?.id),X=async e=>{e.currentTarget.scrollHeight-e.currentTarget.scrollTop!==e.currentTarget.clientHeight||N||U()};return(0,t.jsxs)("div",{onScroll:X,className:x().dynamic([["899c470b4dc9e9af",[b.ZP.shadow.md(),o,y.default.spacing.xxs,y.default.color.white,y.default.spacing.xxs,y.default.spacing.xxs,y.default.spacing.xxs,b.ZP.typography.bodySmall(),r.bodyMutedColor,y.default.spacing.xxs,y.default.responsiveBreakpoints.medium,"auto"!==o?o:"44rem"]]])+" group-scroll-container",children:[(0,t.jsxs)("div",{ref:B,className:x().dynamic([["899c470b4dc9e9af",[b.ZP.shadow.md(),o,y.default.spacing.xxs,y.default.color.white,y.default.spacing.xxs,y.default.spacing.xxs,y.default.spacing.xxs,b.ZP.typography.bodySmall(),r.bodyMutedColor,y.default.spacing.xxs,y.default.responsiveBreakpoints.medium,"auto"!==o?o:"44rem"]]])+" group-popper",children:[(0,t.jsx)("div",{onClick:e=>{e.stopPropagation()},role:"none",className:x().dynamic([["899c470b4dc9e9af",[b.ZP.shadow.md(),o,y.default.spacing.xxs,y.default.color.white,y.default.spacing.xxs,y.default.spacing.xxs,y.default.spacing.xxs,b.ZP.typography.bodySmall(),r.bodyMutedColor,y.default.spacing.xxs,y.default.responsiveBreakpoints.medium,"auto"!==o?o:"44rem"]]])+" search-box-container",children:(0,t.jsx)(h.Z,{id:"search-groups",label:c("builder.sharingSelector.group.search.accessibleName"),onChange:E,onClear:E,placeholder:c("builder.sharingSelector.group.search.label"),searchInputRef:F})}),s&&(!Z||W)&&(0,t.jsx)(C,{group:s,isSelected:!0,onClick:G(s.id)},s.id+"selection"),V.map(e=>(0,t.jsx)(C,{group:e,isSelected:!1,onClick:G(e.id)},e.id)),N&&(0,t.jsx)("div",{className:x().dynamic([["899c470b4dc9e9af",[b.ZP.shadow.md(),o,y.default.spacing.xxs,y.default.color.white,y.default.spacing.xxs,y.default.spacing.xxs,y.default.spacing.xxs,b.ZP.typography.bodySmall(),r.bodyMutedColor,y.default.spacing.xxs,y.default.responsiveBreakpoints.medium,"auto"!==o?o:"44rem"]]])+" spinner-container",children:(0,t.jsx)(w.Z,{label:c("builder.common.loading")})}),!N&&!z&&!q.length&&(0,t.jsx)("div",{className:x().dynamic([["899c470b4dc9e9af",[b.ZP.shadow.md(),o,y.default.spacing.xxs,y.default.color.white,y.default.spacing.xxs,y.default.spacing.xxs,y.default.spacing.xxs,b.ZP.typography.bodySmall(),r.bodyMutedColor,y.default.spacing.xxs,y.default.responsiveBreakpoints.medium,"auto"!==o?o:"44rem"]]])+" no-results",children:c("common.arcgis.sharing.selector.groupSharing.search.noMatches")}),z&&!N&&(0,t.jsx)("div",{className:x().dynamic([["899c470b4dc9e9af",[b.ZP.shadow.md(),o,y.default.spacing.xxs,y.default.color.white,y.default.spacing.xxs,y.default.spacing.xxs,y.default.spacing.xxs,b.ZP.typography.bodySmall(),r.bodyMutedColor,y.default.spacing.xxs,y.default.responsiveBreakpoints.medium,"auto"!==o?o:"44rem"]]])+" no-results",children:c("page.error.unknownTitle")})]}),(0,t.jsx)(x(),{id:"899c470b4dc9e9af",dynamic:[b.ZP.shadow.md(),o,y.default.spacing.xxs,y.default.color.white,y.default.spacing.xxs,y.default.spacing.xxs,y.default.spacing.xxs,b.ZP.typography.bodySmall(),r.bodyMutedColor,y.default.spacing.xxs,y.default.responsiveBreakpoints.medium,"auto"!==o?o:"44rem"],children:`.group-scroll-container.__jsx-style-dynamic-selector{${b.ZP.shadow.md()}
          max-height: 44rem;width:${o};overflow-y:auto;padding:${y.default.spacing.xxs} 0;background-color:${y.default.color.white}}.group-popper.__jsx-style-dynamic-selector{display:grid}.search-box-container.__jsx-style-dynamic-selector{margin:0 ${y.default.spacing.xxs} ${y.default.spacing.xxs}}.spinner-container.__jsx-style-dynamic-selector{margin:${y.default.spacing.xxs} 0;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.no-results.__jsx-style-dynamic-selector{${b.ZP.typography.bodySmall()}
          color: ${r.bodyMutedColor};margin:0 ${y.default.spacing.xxs}}@media(min-width:${y.default.responsiveBreakpoints.medium}){.group-scroll-container.__jsx-style-dynamic-selector{width:${"auto"!==o?o:"44rem"}}}`})]})},z=e=>{let{selectedGroup:a,onGroupChanged:s,mode:d="ownGroups",shouldRestrictPopperWidth:x}=e,u=(0,n.Z)(),[p,g]=(0,l.useState)(a),f=(0,l.useRef)(null);(0,l.useEffect)(()=>{a&&g(a)},[a]);let m=()=>{p&&(g(null),s(null))};return(0,t.jsx)(o.Z,{placement:"bottom-end",offset:[0,0],hideOnContentClick:!0,renderTarget:e=>(0,t.jsx)(c.Z,{hasSelection:!!p,label:p?u("common.arcgis.sharing.display.selectedGroup",{groupTitle:p.title}):u("common.arcgis.sharing.display.group"),icon:(0,t.jsx)(r.Z,{path:i.g,size:16}),tooltipText:p?.title,onClearClick:m,widthRestriction:"md",targetRef:f,"aria-expanded":e}),popper:(0,t.jsx)(T,{mode:d,onSelectGroup:e=>{e!==p&&(g(e||null),s(e?e.id:null))},selectedGroup:p,dropdownWidth:x?f.current?.clientWidth+"px":void 0}),usePositionFixed:!0,maxWidth:"none"})}},256538:function(e,a,s){var t=s(552322),l=s(742951),i=s.n(l),o=s(202784),r=s(412524),n=s.n(r),c=s(75211),d=s(558323),x=s(558001),u=s(578166),p=s(788028),g=s(103010),f=s(819400);class m extends o.PureComponent{static #e=this.defaultProps={size:"small"};constructor(e){super(e),this.setValue=(e,a)=>{this.setState({value:e}),a&&this.onValueChange(e)},this.onClear=()=>{this.setValue("",!0)},this.onInputChange=e=>{let a=e.target.value;this.setValue(a,!0)},this.onValueChange=e=>{0===e.length?this.props.onClear():this.props.onChange(e)},this.state={value:e.value??""}}componentDidUpdate(){"string"==typeof this.props.searchInputRef?.current?.value&&this.props.searchInputRef?.current?.value!==this.state.value&&this.setState({value:this.props.searchInputRef?.current?.value})}render(){let e;switch(this.props.size){case"large":e=p.default.spacing.lg;break;case"medium":e=p.default.spacing.md;break;default:e=p.default.spacing.sm}let a="small"===this.props.size?p.default.spacing.sm:p.default.spacing.lg,s=`0 ${this.state.value?a:p.default.spacing.xxs}
    ${p.default.spacing.xxxxxs} ${a}`,l={styles:(0,t.jsx)(i(),{id:"a49e4fe4430964e1",dynamic:[s,a,this.state.value?a:p.default.spacing.xxs,p.default.spacing.xxxs,p.default.spacing.xxxs],children:`input.__jsx-style-dynamic-selector{height:100%;padding:${s};-webkit-padding-start:${a};-moz-padding-start:${a};padding-inline-start:${a};-webkit-padding-end:${this.state.value?a:p.default.spacing.xxs};-moz-padding-end:${this.state.value?a:p.default.spacing.xxs};padding-inline-end:${this.state.value?a:p.default.spacing.xxs}}input[disabled].__jsx-style-dynamic-selector{cursor:not-allowed}input.__jsx-style-dynamic-selector:not(:valid)~button.__jsx-style-dynamic-selector{display:none}input.expanded.__jsx-style-dynamic-selector{height:unset;padding-top:${p.default.spacing.xxxs};padding-bottom:${p.default.spacing.xxxs}}input.__jsx-style-dynamic-selector::-webkit-search-cancel-button{display:none}`}),className:i().dynamic([["a49e4fe4430964e1",[s,a,this.state.value?a:p.default.spacing.xxs,p.default.spacing.xxxs,p.default.spacing.xxxs]]])},o=p.default.spacing["small"===this.props.size?"xxxs":"xxs"],r={styles:(0,t.jsx)(i(),{id:"d76610501e57e658",dynamic:[o],children:`.icon-search.__jsx-style-dynamic-selector{position:absolute;margin:0 ${o}}`}),className:i().dynamic([["d76610501e57e658",[o]]])},m=this.props.value??this.state.value;return(0,t.jsxs)("div",{className:i().dynamic([["35cc1a48d6358665",[e,(0,x.ig)(),o,p.default.spacing.xxs,p.default.color.cadet,u.Kk.RTL]]])+" "+(n()("search-box",this.props.className,{disabled:this.props.disabled})||""),children:[(0,t.jsx)("label",{htmlFor:this.props.id,className:i().dynamic([["35cc1a48d6358665",[e,(0,x.ig)(),o,p.default.spacing.xxs,p.default.color.cadet,u.Kk.RTL]]]),children:this.props.label}),(0,t.jsx)(g.Z,{path:c.A,className:n()(r.className,"icon-search"),size:16,"aria-hidden":!0}),(0,t.jsx)(f.Z,{ref:this.props.searchInputRef,className:n()(l.className,{expanded:"large"===this.props.type}),id:this.props.id,type:"search",value:m,placeholder:this.props.placeholder,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onChange:this.onInputChange,onKeyDown:this.props.onKeydown,autoComplete:this.props.preventAutoComplete?"off":"on",isDisabled:this.props.disabled,title:"",testId:this.props.id,"aria-controls":this.props["aria-controls"],"aria-haspopup":this.props["aria-haspopup"]}),m&&(0,t.jsx)("button",{type:"button",onClick:this.onClear,onBlur:this.props.onClearBtnBlur,"aria-label":this.props.clearBtnLabel,title:this.props.clearBtnLabel,className:i().dynamic([["35cc1a48d6358665",[e,(0,x.ig)(),o,p.default.spacing.xxs,p.default.color.cadet,u.Kk.RTL]]])+" "+(n()("clear-btn",l.className)||""),children:(0,t.jsx)(g.Z,{path:d.n,fill:p.default.color.cadet,size:16,"aria-hidden":!0})}),l.styles,r.styles,(0,t.jsx)(i(),{id:"35cc1a48d6358665",dynamic:[e,(0,x.ig)(),o,p.default.spacing.xxs,p.default.color.cadet,u.Kk.RTL],children:`.search-box.__jsx-style-dynamic-selector{position:relative;height:${e};display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.search-box.disabled.__jsx-style-dynamic-selector{cursor:not-allowed}label.__jsx-style-dynamic-selector{${(0,x.ig)()};}.clear-btn.__jsx-style-dynamic-selector{padding:0 ${o}}button.__jsx-style-dynamic-selector{position:absolute;line-height:0;height:100%;padding:0 ${p.default.spacing.xxs};right:0;font-size:1.2rem;color:${p.default.color.cadet}}${u.Kk.RTL} button.__jsx-style-dynamic-selector{right:auto;left:0}`})]})}}a.Z=m}}]);